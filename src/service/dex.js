const a0_0x16e6f6=a0_0x4613;(function(_0x1a4594,_0x4c0e28){const _0x594ff6=a0_0x4613,_0x2bd5ce=_0x1a4594();while(!![]){try{const _0x39d6a5=-parseInt(_0x594ff6(0x1a7))/0x1+parseInt(_0x594ff6(0x1a9))/0x2+parseInt(_0x594ff6(0x19a))/0x3*(parseInt(_0x594ff6(0x1ad))/0x4)+-parseInt(_0x594ff6(0x180))/0x5+-parseInt(_0x594ff6(0x1ba))/0x6+-parseInt(_0x594ff6(0x1b5))/0x7*(-parseInt(_0x594ff6(0x187))/0x8)+parseInt(_0x594ff6(0x185))/0x9*(parseInt(_0x594ff6(0x198))/0xa);if(_0x39d6a5===_0x4c0e28)break;else _0x2bd5ce['push'](_0x2bd5ce['shift']());}catch(_0x14c949){_0x2bd5ce['push'](_0x2bd5ce['shift']());}}}(a0_0x37bc,0x56b81));const {Web3}=require(a0_0x16e6f6(0x19f)),{amount}=require(a0_0x16e6f6(0x19b)),citeaRouterABI=require(a0_0x16e6f6(0x188)),citeaLpABI=require('../utils/abi/citeaLpABI'),wsfiABI=require('../utils/abi/wsfiABI'),usdcABI=require('../utils/abi/usdcABI'),web3=new Web3(a0_0x16e6f6(0x1b7)),wsfiContractAddress=a0_0x16e6f6(0x19d),usdcContractAddress=a0_0x16e6f6(0x186),citeaContractAddress=a0_0x16e6f6(0x1a8),citeaLpContractAddress=a0_0x16e6f6(0x1b8);async function getBalance(_0x25c072){const _0x2be7f5=a0_0x16e6f6;try{const _0x38a487=web3[_0x2be7f5(0x183)][_0x2be7f5(0x18b)][_0x2be7f5(0x195)](_0x25c072),_0x4d3472=await web3['eth'][_0x2be7f5(0x1b2)](_0x38a487[_0x2be7f5(0x18a)]),_0x3ca3e6=web3[_0x2be7f5(0x182)]['fromWei'](_0x4d3472,'ether'),_0x13dc13=new web3[(_0x2be7f5(0x183))][(_0x2be7f5(0x1af))](wsfiABI,wsfiContractAddress),_0xe98d70=await _0x13dc13[_0x2be7f5(0x1b3)]['balanceOf'](_0x38a487[_0x2be7f5(0x18a)])['call'](),_0x130b51=web3[_0x2be7f5(0x182)][_0x2be7f5(0x18c)](_0xe98d70,'ether'),_0x52f87d=new web3[(_0x2be7f5(0x183))]['Contract'](usdcABI,usdcContractAddress),_0x1ee37b=await _0x52f87d['methods'][_0x2be7f5(0x181)](_0x38a487[_0x2be7f5(0x18a)])[_0x2be7f5(0x18f)](),_0x49946b=web3['utils'][_0x2be7f5(0x18c)](_0x1ee37b,_0x2be7f5(0x199)),_0x9819d1=new web3['eth'][(_0x2be7f5(0x1af))](citeaLpABI,citeaLpContractAddress),_0x201878=await _0x9819d1[_0x2be7f5(0x1b3)]['balanceOf'](_0x38a487[_0x2be7f5(0x18a)])[_0x2be7f5(0x18f)](),_0x401df4=web3[_0x2be7f5(0x182)][_0x2be7f5(0x18c)](_0x201878,_0x2be7f5(0x199));return{'formattedSFI':_0x3ca3e6,'formattedWSFI':_0x130b51,'formattedUSDC':_0x49946b,'formattedCiteaLp':_0x401df4};}catch(_0xb2263d){throw new Error(_0x2be7f5(0x1ab)+_0xb2263d['message']);}}async function swapWsfiToUsdc(_0x5ce7e2){const _0x436914=a0_0x16e6f6;try{const _0x2cec00=web3[_0x436914(0x183)][_0x436914(0x18b)][_0x436914(0x195)](_0x5ce7e2);web3[_0x436914(0x183)][_0x436914(0x18b)]['wallet'][_0x436914(0x1b6)](_0x2cec00);const _0x4c5da5=new web3['eth'][(_0x436914(0x1af))](citeaRouterABI,citeaContractAddress),_0x476f1b=new web3[(_0x436914(0x183))]['Contract'](wsfiABI,wsfiContractAddress),_0x16c05b=await _0x476f1b[_0x436914(0x1b3)][_0x436914(0x196)](_0x2cec00[_0x436914(0x18a)],citeaContractAddress)[_0x436914(0x18f)](),_0x60d93f=web3[_0x436914(0x182)]['toWei'](amount[_0x436914(0x1b1)](),_0x436914(0x1a6));if(parseFloat(_0x16c05b)<parseFloat(_0x60d93f)){const _0x42cec7=_0x476f1b[_0x436914(0x1b3)]['approve'](citeaContractAddress,_0x60d93f),_0x1dcc32=await _0x42cec7[_0x436914(0x190)]({'from':_0x2cec00['address']}),_0x56eb16=await web3['eth'][_0x436914(0x1b0)](),_0x373262=await web3['eth'][_0x436914(0x1bc)](_0x2cec00[_0x436914(0x18a)],'pending'),_0x3f8fd9={'from':_0x2cec00['address'],'to':wsfiContractAddress,'gas':_0x1dcc32,'gasPrice':_0x56eb16,'nonce':_0x373262,'data':_0x42cec7[_0x436914(0x1b4)]()},_0x2da8a0=await web3['eth'][_0x436914(0x18b)]['signTransaction'](_0x3f8fd9,_0x5ce7e2);await web3[_0x436914(0x183)][_0x436914(0x192)](_0x2da8a0['rawTransaction']);}const _0x4bba18=[wsfiContractAddress,usdcContractAddress],_0x3d4a11=Math[_0x436914(0x1aa)](Date[_0x436914(0x1ac)]()/0x3e8)+0x3c*0x5,_0x2cdc96=_0x4c5da5[_0x436914(0x1b3)]['swapExactTokensForTokensSupportingFeeOnTransferTokens'](_0x60d93f,0x0,_0x4bba18,_0x2cec00['address'],_0x3d4a11),_0x4fefbd=await _0x2cdc96[_0x436914(0x190)]({'from':_0x2cec00['address']}),_0x514905=await web3[_0x436914(0x183)]['getGasPrice'](),_0x105a7d={'from':_0x2cec00[_0x436914(0x18a)],'to':citeaContractAddress,'gas':_0x4fefbd,'gasPrice':_0x514905,'nonce':await web3[_0x436914(0x183)][_0x436914(0x1bc)](_0x2cec00['address'],_0x436914(0x1b9)),'data':_0x2cdc96[_0x436914(0x1b4)]()},_0x3bf2f7=await web3[_0x436914(0x183)][_0x436914(0x18b)][_0x436914(0x193)](_0x105a7d,_0x5ce7e2),_0x535fe4=await web3[_0x436914(0x183)][_0x436914(0x192)](_0x3bf2f7['rawTransaction']);return{'success':!![],'txHash':_0x535fe4['transactionHash']};}catch(_0x42c4d5){throw new Error('Error\x20swapping\x20WSFI\x20to\x20USDC:\x20'+_0x42c4d5[_0x436914(0x191)]);}}async function wrapSFI(_0x2b5052){const _0x5e7c0c=a0_0x16e6f6;try{const _0x336b81=web3[_0x5e7c0c(0x183)][_0x5e7c0c(0x18b)][_0x5e7c0c(0x195)](_0x2b5052);web3['eth'][_0x5e7c0c(0x18b)][_0x5e7c0c(0x197)][_0x5e7c0c(0x1b6)](_0x336b81);const _0x5f34ec=new web3[(_0x5e7c0c(0x183))]['Contract'](wsfiABI,wsfiContractAddress),_0x4e175c=web3[_0x5e7c0c(0x182)][_0x5e7c0c(0x1a5)](amount[_0x5e7c0c(0x1b1)](),'ether'),_0x178890=_0x5f34ec[_0x5e7c0c(0x1b3)]['deposit'](),_0x2223c6=await _0x178890[_0x5e7c0c(0x190)]({'from':_0x336b81[_0x5e7c0c(0x18a)],'value':_0x4e175c}),_0x446037=await web3[_0x5e7c0c(0x183)]['getGasPrice'](),_0x2cbdac=await web3[_0x5e7c0c(0x183)]['getTransactionCount'](_0x336b81[_0x5e7c0c(0x18a)],_0x5e7c0c(0x1b9)),_0x138cac={'from':_0x336b81[_0x5e7c0c(0x18a)],'to':wsfiContractAddress,'value':_0x4e175c,'gas':_0x2223c6,'gasPrice':_0x446037,'nonce':_0x2cbdac,'data':_0x178890[_0x5e7c0c(0x1b4)]()},_0x4a233c=await web3[_0x5e7c0c(0x183)][_0x5e7c0c(0x18b)][_0x5e7c0c(0x193)](_0x138cac,_0x2b5052),_0x1848c8=await web3['eth'][_0x5e7c0c(0x192)](_0x4a233c[_0x5e7c0c(0x1a3)]);return{'success':!![],'txHash':_0x1848c8[_0x5e7c0c(0x19c)]};}catch(_0x466f29){throw new Error('Error\x20wrapping\x20SFI:\x20'+_0x466f29[_0x5e7c0c(0x191)]);}}async function getUsdcAmountForLiquidity(_0xfbe9f3){const _0x544712=a0_0x16e6f6;try{const _0x4a95ab=new web3[(_0x544712(0x183))][(_0x544712(0x1af))](citeaRouterABI,citeaContractAddress),_0x33c62b=web3[_0x544712(0x182)][_0x544712(0x1a5)](_0xfbe9f3['toString'](),_0x544712(0x1a6)),_0x24f68d=await _0x4a95ab['methods']['getAmountsOut'](_0x33c62b,[wsfiContractAddress,usdcContractAddress])[_0x544712(0x18f)](),_0x592fef=web3['utils'][_0x544712(0x18c)](_0x24f68d[0x1],_0x544712(0x199));return _0x592fef;}catch(_0x5356d4){throw new Error('Error\x20fetching\x20USDC\x20amount:\x20'+_0x5356d4[_0x544712(0x191)]);}}function a0_0x4613(_0x19832f,_0x472848){const _0x37bc20=a0_0x37bc();return a0_0x4613=function(_0x461359,_0x1e2191){_0x461359=_0x461359-0x180;let _0x10e3f5=_0x37bc20[_0x461359];return _0x10e3f5;},a0_0x4613(_0x19832f,_0x472848);}function a0_0x37bc(){const _0x366ff4=['toString','getBalance','methods','encodeABI','364427fSIZXu','add','https://rpc-testnet.singularityfinance.ai','0xB54284F014DaB8dBdFC77097caa6af35e8233fF6','pending','2223774TIpoaj','Pool\x20does\x20not\x20exist\x20for\x20the\x20given\x20token\x20pair.','getTransactionCount','3294440AzsnZQ','balanceOf','utils','eth','Error\x20removing\x20liquidity:\x20','45zwFvRS','0xD2ED81BE83B33218737Ca188EB9AC28b79C6A0F3','8MOhdtp','../utils/abi/citeaRouterABI','Transaction\x20reverted\x20by\x20EVM','address','accounts','fromWei','status','getPair','call','estimateGas','message','sendSignedTransaction','signTransaction','Error\x20adding\x20liquidity:\x20','privateKeyToAccount','allowance','wallet','2033810WrLAOp','mwei','3UwvbqI','../config/config','transactionHash','0x6dC404EFd04B880B0Ab5a26eF461b63A12E3888D','0x0000000000000000000000000000000000000000','web3','addLiquidity','getReserves','removeLiquidity','rawTransaction','approve','toWei','ether','478171EZsFio','0xFEccff0ecf1cAa1669A71C5E00b51B48E4CBc6A1','1386668IXkdTi','floor','Error\x20fetching\x20balance:\x20','now','402356LaZfNw','totalSupply','Contract','getGasPrice'];a0_0x37bc=function(){return _0x366ff4;};return a0_0x37bc();}async function addLiquidity(_0xc712ee){const _0x3f7e14=a0_0x16e6f6;try{const _0x309938=web3[_0x3f7e14(0x183)][_0x3f7e14(0x18b)][_0x3f7e14(0x195)](_0xc712ee);web3['eth'][_0x3f7e14(0x18b)][_0x3f7e14(0x197)][_0x3f7e14(0x1b6)](_0x309938);const _0x30e0c8=new web3['eth']['Contract'](citeaRouterABI,citeaContractAddress),_0x506e22=new web3[(_0x3f7e14(0x183))]['Contract'](wsfiABI,wsfiContractAddress),_0x38021a=new web3['eth'][(_0x3f7e14(0x1af))](usdcABI,usdcContractAddress),_0x2f6efe=amount,_0x5a50d8=web3[_0x3f7e14(0x182)][_0x3f7e14(0x1a5)](_0x2f6efe['toString'](),_0x3f7e14(0x1a6)),_0x1fa959=await getUsdcAmountForLiquidity(_0x2f6efe),_0x45c6d6=web3[_0x3f7e14(0x182)][_0x3f7e14(0x1a5)](_0x1fa959[_0x3f7e14(0x1b1)](),'mwei'),_0x2cd769=0.05,_0x2a2f05=Math[_0x3f7e14(0x1aa)](_0x5a50d8*(0x1-_0x2cd769)),_0x22001f=Math[_0x3f7e14(0x1aa)](_0x5a50d8*(0x1-_0x2cd769)),_0x47d95e='115792089237316195423570985008687907853269984665640564039457584007913129639935',_0x75b720=await _0x506e22['methods'][_0x3f7e14(0x196)](_0x309938[_0x3f7e14(0x18a)],citeaContractAddress)[_0x3f7e14(0x18f)]();if(BigInt(_0x75b720)<BigInt(_0x5a50d8)){const _0x428e70=_0x506e22[_0x3f7e14(0x1b3)][_0x3f7e14(0x1a4)](citeaContractAddress,_0x5a50d8),_0x2ec9cb=await _0x428e70[_0x3f7e14(0x190)]({'from':_0x309938[_0x3f7e14(0x18a)]}),_0x46ee3d=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x1b0)](),_0x526a55=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x1bc)](_0x309938[_0x3f7e14(0x18a)],_0x3f7e14(0x1b9)),_0x342e92={'from':_0x309938['address'],'to':wsfiContractAddress,'gas':Number(_0x2ec9cb),'gasPrice':Number(_0x46ee3d),'nonce':_0x526a55,'data':_0x428e70[_0x3f7e14(0x1b4)]()},_0x4c9312=await web3['eth']['accounts'][_0x3f7e14(0x193)](_0x342e92,_0xc712ee);await web3[_0x3f7e14(0x183)]['sendSignedTransaction'](_0x4c9312['rawTransaction']);}const _0x4609f9=await _0x38021a['methods'][_0x3f7e14(0x196)](_0x309938[_0x3f7e14(0x18a)],citeaContractAddress)[_0x3f7e14(0x18f)]();if(BigInt(_0x4609f9)<BigInt(_0x45c6d6)){const _0x52b38a=_0x38021a['methods'][_0x3f7e14(0x1a4)](citeaContractAddress,_0x45c6d6),_0x220d8f=await _0x52b38a['estimateGas']({'from':_0x309938[_0x3f7e14(0x18a)]}),_0x1e3987=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x1b0)](),_0x5d5e64=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x1bc)](_0x309938[_0x3f7e14(0x18a)],'pending'),_0x13301e={'from':_0x309938['address'],'to':usdcContractAddress,'gas':Number(_0x220d8f),'gasPrice':Number(_0x1e3987),'nonce':_0x5d5e64,'data':_0x52b38a['encodeABI']()},_0x4f909c=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x18b)][_0x3f7e14(0x193)](_0x13301e,_0xc712ee);await web3[_0x3f7e14(0x183)][_0x3f7e14(0x192)](_0x4f909c[_0x3f7e14(0x1a3)]);}const _0x4ffb21=_0x30e0c8[_0x3f7e14(0x1b3)][_0x3f7e14(0x1a0)](wsfiContractAddress,usdcContractAddress,_0x5a50d8,_0x45c6d6,_0x2a2f05,_0x22001f,_0x309938[_0x3f7e14(0x18a)],_0x47d95e),_0x38e21e=await _0x4ffb21[_0x3f7e14(0x190)]({'from':_0x309938[_0x3f7e14(0x18a)]}),_0x1c5ec5=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x1b0)](),_0x4b978d={'from':_0x309938[_0x3f7e14(0x18a)],'to':citeaContractAddress,'gas':Number(_0x38e21e),'gasPrice':Number(_0x1c5ec5),'nonce':await web3[_0x3f7e14(0x183)][_0x3f7e14(0x1bc)](_0x309938[_0x3f7e14(0x18a)],_0x3f7e14(0x1b9)),'data':_0x4ffb21[_0x3f7e14(0x1b4)]()},_0x17101c=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x18b)]['signTransaction'](_0x4b978d,_0xc712ee),_0x36898d=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x192)](_0x17101c[_0x3f7e14(0x1a3)]);if(!_0x36898d[_0x3f7e14(0x18d)])throw new Error(_0x3f7e14(0x189));return{'success':!![],'txHash':_0x36898d['transactionHash']};}catch(_0x1176c3){throw new Error(_0x3f7e14(0x194)+_0x1176c3[_0x3f7e14(0x191)]);}}async function removeLiquidity(_0xd594c6){const _0x5107df=a0_0x16e6f6;try{const _0xcef631=web3[_0x5107df(0x183)][_0x5107df(0x18b)][_0x5107df(0x195)](_0xd594c6);web3[_0x5107df(0x183)][_0x5107df(0x18b)][_0x5107df(0x197)][_0x5107df(0x1b6)](_0xcef631);const _0x58d546=new web3[(_0x5107df(0x183))]['Contract'](citeaRouterABI,citeaContractAddress),_0x3a5b74=new web3[(_0x5107df(0x183))][(_0x5107df(0x1af))](citeaFactoryABI,citeaFactoryAddress),_0x2979d3=new web3['eth'][(_0x5107df(0x1af))](citeaLpABI,citeaLpContractAddress),_0x3bc96=await _0x2979d3['methods'][_0x5107df(0x181)](_0xcef631['address'])['call'](),_0x5be3e9=BigInt(_0x3bc96)*BigInt(0x19)/BigInt(0x64),_0x5b1aeb=await _0x3a5b74[_0x5107df(0x1b3)][_0x5107df(0x18e)](wsfiContractAddress,usdcContractAddress)[_0x5107df(0x18f)]();if(_0x5b1aeb===_0x5107df(0x19e))throw new Error(_0x5107df(0x1bb));const _0x3c3ad2=new web3[(_0x5107df(0x183))][(_0x5107df(0x1af))](citeaLpABI,citeaLpContractAddress),_0x4e3601=await _0x3c3ad2[_0x5107df(0x1b3)][_0x5107df(0x1a1)]()['call'](),_0x182297=_0x4e3601[0x0],_0x49fe4f=_0x4e3601[0x1],_0x5185ca=await _0x2979d3['methods'][_0x5107df(0x1ae)]()['call'](),_0x557891=_0x5be3e9*BigInt(_0x182297)/BigInt(_0x5185ca),_0x4c222b=_0x5be3e9*BigInt(_0x49fe4f)/BigInt(_0x5185ca),_0x382e5e=0.05,_0x9c07f4=_0x557891*BigInt(0x5f)/BigInt(0x64),_0x52064d=_0x4c222b*BigInt(0x5f)/BigInt(0x64),_0x456cae='115792089237316195423570985008687907853269984665640564039457584007913129639935',_0x4960ca=await _0x2979d3['methods'][_0x5107df(0x196)](_0xcef631[_0x5107df(0x18a)],citeaContractAddress)[_0x5107df(0x18f)]();if(BigInt(_0x4960ca)<_0x5be3e9){const _0x48971c=_0x2979d3[_0x5107df(0x1b3)][_0x5107df(0x1a4)](citeaContractAddress,_0x5be3e9[_0x5107df(0x1b1)]()),_0x12bd73=await _0x48971c[_0x5107df(0x190)]({'from':_0xcef631[_0x5107df(0x18a)]}),_0x213c2c=await web3[_0x5107df(0x183)][_0x5107df(0x1b0)](),_0x1384c5=await web3['eth'][_0x5107df(0x1bc)](_0xcef631[_0x5107df(0x18a)],_0x5107df(0x1b9)),_0x251b56={'from':_0xcef631[_0x5107df(0x18a)],'to':citeaLpContractAddress,'gas':Number(_0x12bd73),'gasPrice':Number(_0x213c2c),'nonce':_0x1384c5,'data':_0x48971c[_0x5107df(0x1b4)]()},_0x275341=await web3[_0x5107df(0x183)]['accounts'][_0x5107df(0x193)](_0x251b56,_0xd594c6);await web3[_0x5107df(0x183)][_0x5107df(0x192)](_0x275341[_0x5107df(0x1a3)]);}const _0x3c9b8a=_0x58d546['methods'][_0x5107df(0x1a2)](wsfiContractAddress,usdcContractAddress,_0x5be3e9['toString'](),_0x9c07f4[_0x5107df(0x1b1)](),_0x52064d['toString'](),_0xcef631[_0x5107df(0x18a)],_0x456cae),_0x1472e8=await _0x3c9b8a['estimateGas']({'from':_0xcef631[_0x5107df(0x18a)]}),_0x553ac1=await web3[_0x5107df(0x183)][_0x5107df(0x1b0)](),_0x43e9e3={'from':_0xcef631['address'],'to':citeaContractAddress,'gas':Number(_0x1472e8),'gasPrice':Number(_0x553ac1),'nonce':await web3[_0x5107df(0x183)][_0x5107df(0x1bc)](_0xcef631['address'],_0x5107df(0x1b9)),'data':_0x3c9b8a[_0x5107df(0x1b4)]()},_0x204d8e=await web3[_0x5107df(0x183)]['accounts'][_0x5107df(0x193)](_0x43e9e3,_0xd594c6),_0x25911f=await web3[_0x5107df(0x183)][_0x5107df(0x192)](_0x204d8e[_0x5107df(0x1a3)]);if(!_0x25911f['status'])throw new Error('Transaction\x20reverted\x20by\x20EVM');return{'success':!![],'txHash':_0x25911f[_0x5107df(0x19c)]};}catch(_0x29b5ce){throw new Error(_0x5107df(0x184)+_0x29b5ce[_0x5107df(0x191)]);}}module['exports']={'getBalance':getBalance,'swapWsfiToUsdc':swapWsfiToUsdc,'wrapSFI':wrapSFI,'removeLiquidity':removeLiquidity,'addLiquidity':addLiquidity};