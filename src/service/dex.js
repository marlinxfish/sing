<<<<<<< HEAD
const a0_0x16e6f6=a0_0x4613;(function(_0x1a4594,_0x4c0e28){const _0x594ff6=a0_0x4613,_0x2bd5ce=_0x1a4594();while(!![]){try{const _0x39d6a5=-parseInt(_0x594ff6(0x1a7))/0x1+parseInt(_0x594ff6(0x1a9))/0x2+parseInt(_0x594ff6(0x19a))/0x3*(parseInt(_0x594ff6(0x1ad))/0x4)+-parseInt(_0x594ff6(0x180))/0x5+-parseInt(_0x594ff6(0x1ba))/0x6+-parseInt(_0x594ff6(0x1b5))/0x7*(-parseInt(_0x594ff6(0x187))/0x8)+parseInt(_0x594ff6(0x185))/0x9*(parseInt(_0x594ff6(0x198))/0xa);if(_0x39d6a5===_0x4c0e28)break;else _0x2bd5ce['push'](_0x2bd5ce['shift']());}catch(_0x14c949){_0x2bd5ce['push'](_0x2bd5ce['shift']());}}}(a0_0x37bc,0x56b81));const {Web3}=require(a0_0x16e6f6(0x19f)),{amount}=require(a0_0x16e6f6(0x19b)),citeaRouterABI=require(a0_0x16e6f6(0x188)),citeaLpABI=require('../utils/abi/citeaLpABI'),wsfiABI=require('../utils/abi/wsfiABI'),usdcABI=require('../utils/abi/usdcABI'),web3=new Web3(a0_0x16e6f6(0x1b7)),wsfiContractAddress=a0_0x16e6f6(0x19d),usdcContractAddress=a0_0x16e6f6(0x186),citeaContractAddress=a0_0x16e6f6(0x1a8),citeaLpContractAddress=a0_0x16e6f6(0x1b8);async function getBalance(_0x25c072){const _0x2be7f5=a0_0x16e6f6;try{const _0x38a487=web3[_0x2be7f5(0x183)][_0x2be7f5(0x18b)][_0x2be7f5(0x195)](_0x25c072),_0x4d3472=await web3['eth'][_0x2be7f5(0x1b2)](_0x38a487[_0x2be7f5(0x18a)]),_0x3ca3e6=web3[_0x2be7f5(0x182)]['fromWei'](_0x4d3472,'ether'),_0x13dc13=new web3[(_0x2be7f5(0x183))][(_0x2be7f5(0x1af))](wsfiABI,wsfiContractAddress),_0xe98d70=await _0x13dc13[_0x2be7f5(0x1b3)]['balanceOf'](_0x38a487[_0x2be7f5(0x18a)])['call'](),_0x130b51=web3[_0x2be7f5(0x182)][_0x2be7f5(0x18c)](_0xe98d70,'ether'),_0x52f87d=new web3[(_0x2be7f5(0x183))]['Contract'](usdcABI,usdcContractAddress),_0x1ee37b=await _0x52f87d['methods'][_0x2be7f5(0x181)](_0x38a487[_0x2be7f5(0x18a)])[_0x2be7f5(0x18f)](),_0x49946b=web3['utils'][_0x2be7f5(0x18c)](_0x1ee37b,_0x2be7f5(0x199)),_0x9819d1=new web3['eth'][(_0x2be7f5(0x1af))](citeaLpABI,citeaLpContractAddress),_0x201878=await _0x9819d1[_0x2be7f5(0x1b3)]['balanceOf'](_0x38a487[_0x2be7f5(0x18a)])[_0x2be7f5(0x18f)](),_0x401df4=web3[_0x2be7f5(0x182)][_0x2be7f5(0x18c)](_0x201878,_0x2be7f5(0x199));return{'formattedSFI':_0x3ca3e6,'formattedWSFI':_0x130b51,'formattedUSDC':_0x49946b,'formattedCiteaLp':_0x401df4};}catch(_0xb2263d){throw new Error(_0x2be7f5(0x1ab)+_0xb2263d['message']);}}async function swapWsfiToUsdc(_0x5ce7e2){const _0x436914=a0_0x16e6f6;try{const _0x2cec00=web3[_0x436914(0x183)][_0x436914(0x18b)][_0x436914(0x195)](_0x5ce7e2);web3[_0x436914(0x183)][_0x436914(0x18b)]['wallet'][_0x436914(0x1b6)](_0x2cec00);const _0x4c5da5=new web3['eth'][(_0x436914(0x1af))](citeaRouterABI,citeaContractAddress),_0x476f1b=new web3[(_0x436914(0x183))]['Contract'](wsfiABI,wsfiContractAddress),_0x16c05b=await _0x476f1b[_0x436914(0x1b3)][_0x436914(0x196)](_0x2cec00[_0x436914(0x18a)],citeaContractAddress)[_0x436914(0x18f)](),_0x60d93f=web3[_0x436914(0x182)]['toWei'](amount[_0x436914(0x1b1)](),_0x436914(0x1a6));if(parseFloat(_0x16c05b)<parseFloat(_0x60d93f)){const _0x42cec7=_0x476f1b[_0x436914(0x1b3)]['approve'](citeaContractAddress,_0x60d93f),_0x1dcc32=await _0x42cec7[_0x436914(0x190)]({'from':_0x2cec00['address']}),_0x56eb16=await web3['eth'][_0x436914(0x1b0)](),_0x373262=await web3['eth'][_0x436914(0x1bc)](_0x2cec00[_0x436914(0x18a)],'pending'),_0x3f8fd9={'from':_0x2cec00['address'],'to':wsfiContractAddress,'gas':_0x1dcc32,'gasPrice':_0x56eb16,'nonce':_0x373262,'data':_0x42cec7[_0x436914(0x1b4)]()},_0x2da8a0=await web3['eth'][_0x436914(0x18b)]['signTransaction'](_0x3f8fd9,_0x5ce7e2);await web3[_0x436914(0x183)][_0x436914(0x192)](_0x2da8a0['rawTransaction']);}const _0x4bba18=[wsfiContractAddress,usdcContractAddress],_0x3d4a11=Math[_0x436914(0x1aa)](Date[_0x436914(0x1ac)]()/0x3e8)+0x3c*0x5,_0x2cdc96=_0x4c5da5[_0x436914(0x1b3)]['swapExactTokensForTokensSupportingFeeOnTransferTokens'](_0x60d93f,0x0,_0x4bba18,_0x2cec00['address'],_0x3d4a11),_0x4fefbd=await _0x2cdc96[_0x436914(0x190)]({'from':_0x2cec00['address']}),_0x514905=await web3[_0x436914(0x183)]['getGasPrice'](),_0x105a7d={'from':_0x2cec00[_0x436914(0x18a)],'to':citeaContractAddress,'gas':_0x4fefbd,'gasPrice':_0x514905,'nonce':await web3[_0x436914(0x183)][_0x436914(0x1bc)](_0x2cec00['address'],_0x436914(0x1b9)),'data':_0x2cdc96[_0x436914(0x1b4)]()},_0x3bf2f7=await web3[_0x436914(0x183)][_0x436914(0x18b)][_0x436914(0x193)](_0x105a7d,_0x5ce7e2),_0x535fe4=await web3[_0x436914(0x183)][_0x436914(0x192)](_0x3bf2f7['rawTransaction']);return{'success':!![],'txHash':_0x535fe4['transactionHash']};}catch(_0x42c4d5){throw new Error('Error\x20swapping\x20WSFI\x20to\x20USDC:\x20'+_0x42c4d5[_0x436914(0x191)]);}}async function wrapSFI(_0x2b5052){const _0x5e7c0c=a0_0x16e6f6;try{const _0x336b81=web3[_0x5e7c0c(0x183)][_0x5e7c0c(0x18b)][_0x5e7c0c(0x195)](_0x2b5052);web3['eth'][_0x5e7c0c(0x18b)][_0x5e7c0c(0x197)][_0x5e7c0c(0x1b6)](_0x336b81);const _0x5f34ec=new web3[(_0x5e7c0c(0x183))]['Contract'](wsfiABI,wsfiContractAddress),_0x4e175c=web3[_0x5e7c0c(0x182)][_0x5e7c0c(0x1a5)](amount[_0x5e7c0c(0x1b1)](),'ether'),_0x178890=_0x5f34ec[_0x5e7c0c(0x1b3)]['deposit'](),_0x2223c6=await _0x178890[_0x5e7c0c(0x190)]({'from':_0x336b81[_0x5e7c0c(0x18a)],'value':_0x4e175c}),_0x446037=await web3[_0x5e7c0c(0x183)]['getGasPrice'](),_0x2cbdac=await web3[_0x5e7c0c(0x183)]['getTransactionCount'](_0x336b81[_0x5e7c0c(0x18a)],_0x5e7c0c(0x1b9)),_0x138cac={'from':_0x336b81[_0x5e7c0c(0x18a)],'to':wsfiContractAddress,'value':_0x4e175c,'gas':_0x2223c6,'gasPrice':_0x446037,'nonce':_0x2cbdac,'data':_0x178890[_0x5e7c0c(0x1b4)]()},_0x4a233c=await web3[_0x5e7c0c(0x183)][_0x5e7c0c(0x18b)][_0x5e7c0c(0x193)](_0x138cac,_0x2b5052),_0x1848c8=await web3['eth'][_0x5e7c0c(0x192)](_0x4a233c[_0x5e7c0c(0x1a3)]);return{'success':!![],'txHash':_0x1848c8[_0x5e7c0c(0x19c)]};}catch(_0x466f29){throw new Error('Error\x20wrapping\x20SFI:\x20'+_0x466f29[_0x5e7c0c(0x191)]);}}async function getUsdcAmountForLiquidity(_0xfbe9f3){const _0x544712=a0_0x16e6f6;try{const _0x4a95ab=new web3[(_0x544712(0x183))][(_0x544712(0x1af))](citeaRouterABI,citeaContractAddress),_0x33c62b=web3[_0x544712(0x182)][_0x544712(0x1a5)](_0xfbe9f3['toString'](),_0x544712(0x1a6)),_0x24f68d=await _0x4a95ab['methods']['getAmountsOut'](_0x33c62b,[wsfiContractAddress,usdcContractAddress])[_0x544712(0x18f)](),_0x592fef=web3['utils'][_0x544712(0x18c)](_0x24f68d[0x1],_0x544712(0x199));return _0x592fef;}catch(_0x5356d4){throw new Error('Error\x20fetching\x20USDC\x20amount:\x20'+_0x5356d4[_0x544712(0x191)]);}}function a0_0x4613(_0x19832f,_0x472848){const _0x37bc20=a0_0x37bc();return a0_0x4613=function(_0x461359,_0x1e2191){_0x461359=_0x461359-0x180;let _0x10e3f5=_0x37bc20[_0x461359];return _0x10e3f5;},a0_0x4613(_0x19832f,_0x472848);}function a0_0x37bc(){const _0x366ff4=['toString','getBalance','methods','encodeABI','364427fSIZXu','add','https://rpc-testnet.singularityfinance.ai','0xB54284F014DaB8dBdFC77097caa6af35e8233fF6','pending','2223774TIpoaj','Pool\x20does\x20not\x20exist\x20for\x20the\x20given\x20token\x20pair.','getTransactionCount','3294440AzsnZQ','balanceOf','utils','eth','Error\x20removing\x20liquidity:\x20','45zwFvRS','0xD2ED81BE83B33218737Ca188EB9AC28b79C6A0F3','8MOhdtp','../utils/abi/citeaRouterABI','Transaction\x20reverted\x20by\x20EVM','address','accounts','fromWei','status','getPair','call','estimateGas','message','sendSignedTransaction','signTransaction','Error\x20adding\x20liquidity:\x20','privateKeyToAccount','allowance','wallet','2033810WrLAOp','mwei','3UwvbqI','../config/config','transactionHash','0x6dC404EFd04B880B0Ab5a26eF461b63A12E3888D','0x0000000000000000000000000000000000000000','web3','addLiquidity','getReserves','removeLiquidity','rawTransaction','approve','toWei','ether','478171EZsFio','0xFEccff0ecf1cAa1669A71C5E00b51B48E4CBc6A1','1386668IXkdTi','floor','Error\x20fetching\x20balance:\x20','now','402356LaZfNw','totalSupply','Contract','getGasPrice'];a0_0x37bc=function(){return _0x366ff4;};return a0_0x37bc();}async function addLiquidity(_0xc712ee){const _0x3f7e14=a0_0x16e6f6;try{const _0x309938=web3[_0x3f7e14(0x183)][_0x3f7e14(0x18b)][_0x3f7e14(0x195)](_0xc712ee);web3['eth'][_0x3f7e14(0x18b)][_0x3f7e14(0x197)][_0x3f7e14(0x1b6)](_0x309938);const _0x30e0c8=new web3['eth']['Contract'](citeaRouterABI,citeaContractAddress),_0x506e22=new web3[(_0x3f7e14(0x183))]['Contract'](wsfiABI,wsfiContractAddress),_0x38021a=new web3['eth'][(_0x3f7e14(0x1af))](usdcABI,usdcContractAddress),_0x2f6efe=amount,_0x5a50d8=web3[_0x3f7e14(0x182)][_0x3f7e14(0x1a5)](_0x2f6efe['toString'](),_0x3f7e14(0x1a6)),_0x1fa959=await getUsdcAmountForLiquidity(_0x2f6efe),_0x45c6d6=web3[_0x3f7e14(0x182)][_0x3f7e14(0x1a5)](_0x1fa959[_0x3f7e14(0x1b1)](),'mwei'),_0x2cd769=0.05,_0x2a2f05=Math[_0x3f7e14(0x1aa)](_0x5a50d8*(0x1-_0x2cd769)),_0x22001f=Math[_0x3f7e14(0x1aa)](_0x5a50d8*(0x1-_0x2cd769)),_0x47d95e='115792089237316195423570985008687907853269984665640564039457584007913129639935',_0x75b720=await _0x506e22['methods'][_0x3f7e14(0x196)](_0x309938[_0x3f7e14(0x18a)],citeaContractAddress)[_0x3f7e14(0x18f)]();if(BigInt(_0x75b720)<BigInt(_0x5a50d8)){const _0x428e70=_0x506e22[_0x3f7e14(0x1b3)][_0x3f7e14(0x1a4)](citeaContractAddress,_0x5a50d8),_0x2ec9cb=await _0x428e70[_0x3f7e14(0x190)]({'from':_0x309938[_0x3f7e14(0x18a)]}),_0x46ee3d=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x1b0)](),_0x526a55=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x1bc)](_0x309938[_0x3f7e14(0x18a)],_0x3f7e14(0x1b9)),_0x342e92={'from':_0x309938['address'],'to':wsfiContractAddress,'gas':Number(_0x2ec9cb),'gasPrice':Number(_0x46ee3d),'nonce':_0x526a55,'data':_0x428e70[_0x3f7e14(0x1b4)]()},_0x4c9312=await web3['eth']['accounts'][_0x3f7e14(0x193)](_0x342e92,_0xc712ee);await web3[_0x3f7e14(0x183)]['sendSignedTransaction'](_0x4c9312['rawTransaction']);}const _0x4609f9=await _0x38021a['methods'][_0x3f7e14(0x196)](_0x309938[_0x3f7e14(0x18a)],citeaContractAddress)[_0x3f7e14(0x18f)]();if(BigInt(_0x4609f9)<BigInt(_0x45c6d6)){const _0x52b38a=_0x38021a['methods'][_0x3f7e14(0x1a4)](citeaContractAddress,_0x45c6d6),_0x220d8f=await _0x52b38a['estimateGas']({'from':_0x309938[_0x3f7e14(0x18a)]}),_0x1e3987=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x1b0)](),_0x5d5e64=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x1bc)](_0x309938[_0x3f7e14(0x18a)],'pending'),_0x13301e={'from':_0x309938['address'],'to':usdcContractAddress,'gas':Number(_0x220d8f),'gasPrice':Number(_0x1e3987),'nonce':_0x5d5e64,'data':_0x52b38a['encodeABI']()},_0x4f909c=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x18b)][_0x3f7e14(0x193)](_0x13301e,_0xc712ee);await web3[_0x3f7e14(0x183)][_0x3f7e14(0x192)](_0x4f909c[_0x3f7e14(0x1a3)]);}const _0x4ffb21=_0x30e0c8[_0x3f7e14(0x1b3)][_0x3f7e14(0x1a0)](wsfiContractAddress,usdcContractAddress,_0x5a50d8,_0x45c6d6,_0x2a2f05,_0x22001f,_0x309938[_0x3f7e14(0x18a)],_0x47d95e),_0x38e21e=await _0x4ffb21[_0x3f7e14(0x190)]({'from':_0x309938[_0x3f7e14(0x18a)]}),_0x1c5ec5=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x1b0)](),_0x4b978d={'from':_0x309938[_0x3f7e14(0x18a)],'to':citeaContractAddress,'gas':Number(_0x38e21e),'gasPrice':Number(_0x1c5ec5),'nonce':await web3[_0x3f7e14(0x183)][_0x3f7e14(0x1bc)](_0x309938[_0x3f7e14(0x18a)],_0x3f7e14(0x1b9)),'data':_0x4ffb21[_0x3f7e14(0x1b4)]()},_0x17101c=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x18b)]['signTransaction'](_0x4b978d,_0xc712ee),_0x36898d=await web3[_0x3f7e14(0x183)][_0x3f7e14(0x192)](_0x17101c[_0x3f7e14(0x1a3)]);if(!_0x36898d[_0x3f7e14(0x18d)])throw new Error(_0x3f7e14(0x189));return{'success':!![],'txHash':_0x36898d['transactionHash']};}catch(_0x1176c3){throw new Error(_0x3f7e14(0x194)+_0x1176c3[_0x3f7e14(0x191)]);}}async function removeLiquidity(_0xd594c6){const _0x5107df=a0_0x16e6f6;try{const _0xcef631=web3[_0x5107df(0x183)][_0x5107df(0x18b)][_0x5107df(0x195)](_0xd594c6);web3[_0x5107df(0x183)][_0x5107df(0x18b)][_0x5107df(0x197)][_0x5107df(0x1b6)](_0xcef631);const _0x58d546=new web3[(_0x5107df(0x183))]['Contract'](citeaRouterABI,citeaContractAddress),_0x3a5b74=new web3[(_0x5107df(0x183))][(_0x5107df(0x1af))](citeaFactoryABI,citeaFactoryAddress),_0x2979d3=new web3['eth'][(_0x5107df(0x1af))](citeaLpABI,citeaLpContractAddress),_0x3bc96=await _0x2979d3['methods'][_0x5107df(0x181)](_0xcef631['address'])['call'](),_0x5be3e9=BigInt(_0x3bc96)*BigInt(0x19)/BigInt(0x64),_0x5b1aeb=await _0x3a5b74[_0x5107df(0x1b3)][_0x5107df(0x18e)](wsfiContractAddress,usdcContractAddress)[_0x5107df(0x18f)]();if(_0x5b1aeb===_0x5107df(0x19e))throw new Error(_0x5107df(0x1bb));const _0x3c3ad2=new web3[(_0x5107df(0x183))][(_0x5107df(0x1af))](citeaLpABI,citeaLpContractAddress),_0x4e3601=await _0x3c3ad2[_0x5107df(0x1b3)][_0x5107df(0x1a1)]()['call'](),_0x182297=_0x4e3601[0x0],_0x49fe4f=_0x4e3601[0x1],_0x5185ca=await _0x2979d3['methods'][_0x5107df(0x1ae)]()['call'](),_0x557891=_0x5be3e9*BigInt(_0x182297)/BigInt(_0x5185ca),_0x4c222b=_0x5be3e9*BigInt(_0x49fe4f)/BigInt(_0x5185ca),_0x382e5e=0.05,_0x9c07f4=_0x557891*BigInt(0x5f)/BigInt(0x64),_0x52064d=_0x4c222b*BigInt(0x5f)/BigInt(0x64),_0x456cae='115792089237316195423570985008687907853269984665640564039457584007913129639935',_0x4960ca=await _0x2979d3['methods'][_0x5107df(0x196)](_0xcef631[_0x5107df(0x18a)],citeaContractAddress)[_0x5107df(0x18f)]();if(BigInt(_0x4960ca)<_0x5be3e9){const _0x48971c=_0x2979d3[_0x5107df(0x1b3)][_0x5107df(0x1a4)](citeaContractAddress,_0x5be3e9[_0x5107df(0x1b1)]()),_0x12bd73=await _0x48971c[_0x5107df(0x190)]({'from':_0xcef631[_0x5107df(0x18a)]}),_0x213c2c=await web3[_0x5107df(0x183)][_0x5107df(0x1b0)](),_0x1384c5=await web3['eth'][_0x5107df(0x1bc)](_0xcef631[_0x5107df(0x18a)],_0x5107df(0x1b9)),_0x251b56={'from':_0xcef631[_0x5107df(0x18a)],'to':citeaLpContractAddress,'gas':Number(_0x12bd73),'gasPrice':Number(_0x213c2c),'nonce':_0x1384c5,'data':_0x48971c[_0x5107df(0x1b4)]()},_0x275341=await web3[_0x5107df(0x183)]['accounts'][_0x5107df(0x193)](_0x251b56,_0xd594c6);await web3[_0x5107df(0x183)][_0x5107df(0x192)](_0x275341[_0x5107df(0x1a3)]);}const _0x3c9b8a=_0x58d546['methods'][_0x5107df(0x1a2)](wsfiContractAddress,usdcContractAddress,_0x5be3e9['toString'](),_0x9c07f4[_0x5107df(0x1b1)](),_0x52064d['toString'](),_0xcef631[_0x5107df(0x18a)],_0x456cae),_0x1472e8=await _0x3c9b8a['estimateGas']({'from':_0xcef631[_0x5107df(0x18a)]}),_0x553ac1=await web3[_0x5107df(0x183)][_0x5107df(0x1b0)](),_0x43e9e3={'from':_0xcef631['address'],'to':citeaContractAddress,'gas':Number(_0x1472e8),'gasPrice':Number(_0x553ac1),'nonce':await web3[_0x5107df(0x183)][_0x5107df(0x1bc)](_0xcef631['address'],_0x5107df(0x1b9)),'data':_0x3c9b8a[_0x5107df(0x1b4)]()},_0x204d8e=await web3[_0x5107df(0x183)]['accounts'][_0x5107df(0x193)](_0x43e9e3,_0xd594c6),_0x25911f=await web3[_0x5107df(0x183)][_0x5107df(0x192)](_0x204d8e[_0x5107df(0x1a3)]);if(!_0x25911f['status'])throw new Error('Transaction\x20reverted\x20by\x20EVM');return{'success':!![],'txHash':_0x25911f[_0x5107df(0x19c)]};}catch(_0x29b5ce){throw new Error(_0x5107df(0x184)+_0x29b5ce[_0x5107df(0x191)]);}}module['exports']={'getBalance':getBalance,'swapWsfiToUsdc':swapWsfiToUsdc,'wrapSFI':wrapSFI,'removeLiquidity':removeLiquidity,'addLiquidity':addLiquidity};
=======
const a0_0x1ae401=a0_0x3689;(function(_0xac3202,_0x1fb992){const _0x51106d=a0_0x3689,_0x2ecce5=_0xac3202();while(!![]){try{const _0x1387eb=parseInt(_0x51106d(0xbd))/0x1*(-parseInt(_0x51106d(0xa5))/0x2)+parseInt(_0x51106d(0xc2))/0x3+-parseInt(_0x51106d(0xa6))/0x4+-parseInt(_0x51106d(0xbb))/0x5*(-parseInt(_0x51106d(0xbe))/0x6)+-parseInt(_0x51106d(0xce))/0x7*(-parseInt(_0x51106d(0xc4))/0x8)+-parseInt(_0x51106d(0x9e))/0x9*(-parseInt(_0x51106d(0xca))/0xa)+parseInt(_0x51106d(0xb6))/0xb*(-parseInt(_0x51106d(0xd0))/0xc);if(_0x1387eb===_0x1fb992)break;else _0x2ecce5['push'](_0x2ecce5['shift']());}catch(_0x369d5c){_0x2ecce5['push'](_0x2ecce5['shift']());}}}(a0_0x4724,0xe7eb3));const {Web3}=require(a0_0x1ae401(0xa3)),{amount}=require(a0_0x1ae401(0xa8)),citeaRouterABI=require(a0_0x1ae401(0xc8)),citeaLpABI=require(a0_0x1ae401(0xc3)),wsfiABI=require(a0_0x1ae401(0x98)),usdcABI=require(a0_0x1ae401(0xb8)),web3=new Web3(a0_0x1ae401(0x9f)),wsfiContractAddress=a0_0x1ae401(0x97),usdcContractAddress=a0_0x1ae401(0xcd),citeaContractAddress=a0_0x1ae401(0xac),citeaLpContractAddress=a0_0x1ae401(0xd1);async function getBalance(_0x91b2be){const _0x2ce769=a0_0x1ae401;try{const _0x2a752a=web3['eth'][_0x2ce769(0xb7)][_0x2ce769(0xcc)](_0x91b2be),_0x4c9f8e=await web3[_0x2ce769(0xaf)][_0x2ce769(0xad)](_0x2a752a[_0x2ce769(0xaa)]),_0x5d911a=web3[_0x2ce769(0xa0)][_0x2ce769(0xab)](_0x4c9f8e,_0x2ce769(0x9d)),_0xdf9f8a=new web3[(_0x2ce769(0xaf))]['Contract'](wsfiABI,wsfiContractAddress),_0x216f9c=await _0xdf9f8a[_0x2ce769(0xc5)][_0x2ce769(0xb2)](_0x2a752a['address'])[_0x2ce769(0xc1)](),_0x5c90a8=web3[_0x2ce769(0xa0)][_0x2ce769(0xab)](_0x216f9c,'ether'),_0x488239=new web3[(_0x2ce769(0xaf))]['Contract'](usdcABI,usdcContractAddress),_0x76606c=await _0x488239[_0x2ce769(0xc5)]['balanceOf'](_0x2a752a['address'])[_0x2ce769(0xc1)](),_0x1390c4=web3['utils'][_0x2ce769(0xab)](_0x76606c,_0x2ce769(0x9c)),_0x141822=new web3[(_0x2ce769(0xaf))][(_0x2ce769(0xc7))](citeaLpABI,citeaLpContractAddress),_0x42d6e0=await _0x141822['methods'][_0x2ce769(0xb2)](_0x2a752a['address'])[_0x2ce769(0xc1)](),_0x3984d9=web3[_0x2ce769(0xa0)]['fromWei'](_0x42d6e0,_0x2ce769(0x9c));return{'formattedSFI':_0x5d911a,'formattedWSFI':_0x5c90a8,'formattedUSDC':_0x1390c4,'formattedCiteaLp':_0x3984d9};}catch(_0x277f46){throw new Error('Error\x20fetching\x20balance:\x20'+_0x277f46[_0x2ce769(0xa2)]);}}async function swapWsfiToUsdc(_0x5891f9){const _0x1e3de5=a0_0x1ae401;try{const _0x3564ba=web3[_0x1e3de5(0xaf)][_0x1e3de5(0xb7)][_0x1e3de5(0xcc)](_0x5891f9);web3[_0x1e3de5(0xaf)][_0x1e3de5(0xb7)][_0x1e3de5(0xc0)][_0x1e3de5(0xba)](_0x3564ba);const _0x586c87=new web3[(_0x1e3de5(0xaf))][(_0x1e3de5(0xc7))](citeaRouterABI,citeaContractAddress),_0x4af018=new web3[(_0x1e3de5(0xaf))][(_0x1e3de5(0xc7))](wsfiABI,wsfiContractAddress),_0x4ccaf8=await _0x4af018[_0x1e3de5(0xc5)][_0x1e3de5(0xb0)](_0x3564ba[_0x1e3de5(0xaa)],citeaContractAddress)[_0x1e3de5(0xc1)](),_0x4d581c=web3[_0x1e3de5(0xa0)][_0x1e3de5(0x9a)](amount['toString'](),'ether');if(parseFloat(_0x4ccaf8)<parseFloat(_0x4d581c)){const _0x2ed247=_0x4af018[_0x1e3de5(0xc5)][_0x1e3de5(0xb9)](citeaContractAddress,_0x4d581c),_0x567dc4=await _0x2ed247[_0x1e3de5(0x96)]({'from':_0x3564ba[_0x1e3de5(0xaa)]}),_0x1de49c=await web3[_0x1e3de5(0xaf)][_0x1e3de5(0xd2)](),_0x5bfa86=await web3[_0x1e3de5(0xaf)][_0x1e3de5(0xbf)](_0x3564ba[_0x1e3de5(0xaa)],_0x1e3de5(0x95)),_0x591ef8={'from':_0x3564ba[_0x1e3de5(0xaa)],'to':wsfiContractAddress,'gas':_0x567dc4,'gasPrice':_0x1de49c,'nonce':_0x5bfa86,'data':_0x2ed247[_0x1e3de5(0xb5)]()},_0x39e064=await web3[_0x1e3de5(0xaf)][_0x1e3de5(0xb7)]['signTransaction'](_0x591ef8,_0x5891f9);await web3[_0x1e3de5(0xaf)][_0x1e3de5(0xa1)](_0x39e064['rawTransaction']);}const _0x3b230d=[wsfiContractAddress,usdcContractAddress],_0x397d7a=Math['floor'](Date['now']()/0x3e8)+0x3c*0x5,_0xfe8dad=_0x586c87[_0x1e3de5(0xc5)][_0x1e3de5(0xc9)](_0x4d581c,0x0,_0x3b230d,_0x3564ba['address'],_0x397d7a),_0x3b3509=await _0xfe8dad[_0x1e3de5(0x96)]({'from':_0x3564ba['address']}),_0x133dba=await web3[_0x1e3de5(0xaf)][_0x1e3de5(0xd2)](),_0x4df5fe={'from':_0x3564ba[_0x1e3de5(0xaa)],'to':citeaContractAddress,'gas':_0x3b3509,'gasPrice':_0x133dba,'nonce':await web3[_0x1e3de5(0xaf)][_0x1e3de5(0xbf)](_0x3564ba['address'],_0x1e3de5(0x95)),'data':_0xfe8dad[_0x1e3de5(0xb5)]()},_0x57fc41=await web3['eth']['accounts'][_0x1e3de5(0xb1)](_0x4df5fe,_0x5891f9),_0x798193=await web3['eth'][_0x1e3de5(0xa1)](_0x57fc41[_0x1e3de5(0x94)]);return{'success':!![],'txHash':_0x798193[_0x1e3de5(0xae)]};}catch(_0x5227c3){throw new Error('Error\x20swapping\x20WSFI\x20to\x20USDC:\x20'+_0x5227c3[_0x1e3de5(0xa2)]);}}function a0_0x3689(_0x2c4f6b,_0x2fa194){const _0x4724e3=a0_0x4724();return a0_0x3689=function(_0x368914,_0x372587){_0x368914=_0x368914-0x94;let _0x409af5=_0x4724e3[_0x368914];return _0x409af5;},a0_0x3689(_0x2c4f6b,_0x2fa194);}function a0_0x4724(){const _0x5ceb97=['getTransactionCount','wallet','call','798213wCrvkc','../utils/abi/citeaLpABI','23096otvwLc','methods','addLiquidity','Contract','../utils/abi/citeaRouterABI','swapExactTokensForTokensSupportingFeeOnTransferTokens','290OKMDag','Error\x20removing\x20liquidity:\x20','privateKeyToAccount','0xD2ED81BE83B33218737Ca188EB9AC28b79C6A0F3','889lShugz','Error\x20fetching\x20USDC\x20amount:\x20','13080KnNDMR','0xB54284F014DaB8dBdFC77097caa6af35e8233fF6','getGasPrice','rawTransaction','pending','estimateGas','0x6dC404EFd04B880B0Ab5a26eF461b63A12E3888D','../utils/abi/wsfiABI','floor','toWei','toString','mwei','ether','248445IipMqU','https://rpc-testnet.singularityfinance.ai','utils','sendSignedTransaction','message','web3','removeLiquidity','2027670cpWspa','3782796GRrvOA','exports','../config/config','status','address','fromWei','0xFEccff0ecf1cAa1669A71C5E00b51B48E4CBc6A1','getBalance','transactionHash','eth','allowance','signTransaction','balanceOf','getAmountsOut','deposit','encodeABI','3619ZKvSlw','accounts','../utils/abi/usdcABI','approve','add','15bCQVUE','Error\x20wrapping\x20SFI:\x20','1YvRJnM','3669636VplKeq'];a0_0x4724=function(){return _0x5ceb97;};return a0_0x4724();}async function wrapSFI(_0x18235e){const _0x50e773=a0_0x1ae401;try{const _0x4e6b81=web3[_0x50e773(0xaf)][_0x50e773(0xb7)][_0x50e773(0xcc)](_0x18235e);web3['eth'][_0x50e773(0xb7)][_0x50e773(0xc0)][_0x50e773(0xba)](_0x4e6b81);const _0xaa49e1=new web3[(_0x50e773(0xaf))][(_0x50e773(0xc7))](wsfiABI,wsfiContractAddress),_0x2990c7=web3[_0x50e773(0xa0)][_0x50e773(0x9a)](amount[_0x50e773(0x9b)](),_0x50e773(0x9d)),_0x26bbb2=_0xaa49e1['methods'][_0x50e773(0xb4)](),_0x4c0612=await _0x26bbb2[_0x50e773(0x96)]({'from':_0x4e6b81[_0x50e773(0xaa)],'value':_0x2990c7}),_0x46a1dc=await web3[_0x50e773(0xaf)][_0x50e773(0xd2)](),_0x635852=await web3['eth'][_0x50e773(0xbf)](_0x4e6b81['address'],_0x50e773(0x95)),_0x14ebbf={'from':_0x4e6b81['address'],'to':wsfiContractAddress,'value':_0x2990c7,'gas':_0x4c0612,'gasPrice':_0x46a1dc,'nonce':_0x635852,'data':_0x26bbb2[_0x50e773(0xb5)]()},_0x4b62fe=await web3[_0x50e773(0xaf)][_0x50e773(0xb7)][_0x50e773(0xb1)](_0x14ebbf,_0x18235e),_0x2bf05e=await web3[_0x50e773(0xaf)][_0x50e773(0xa1)](_0x4b62fe[_0x50e773(0x94)]);return{'success':!![],'txHash':_0x2bf05e['transactionHash']};}catch(_0x348be1){throw new Error(_0x50e773(0xbc)+_0x348be1[_0x50e773(0xa2)]);}}async function getUsdcAmountForLiquidity(_0x24697f){const _0x509b33=a0_0x1ae401;try{const _0x92ae5a=new web3[(_0x509b33(0xaf))][(_0x509b33(0xc7))](citeaRouterABI,citeaContractAddress),_0x407444=web3[_0x509b33(0xa0)]['toWei'](_0x24697f[_0x509b33(0x9b)](),_0x509b33(0x9d)),_0x9c8808=await _0x92ae5a['methods'][_0x509b33(0xb3)](_0x407444,[wsfiContractAddress,usdcContractAddress])['call'](),_0x8e6f0a=web3[_0x509b33(0xa0)][_0x509b33(0xab)](_0x9c8808[0x1],'mwei');return _0x8e6f0a;}catch(_0x403b90){throw new Error(_0x509b33(0xcf)+_0x403b90[_0x509b33(0xa2)]);}}async function addLiquidity(_0x307ddc){const _0x58baf0=a0_0x1ae401;try{const _0x52f4a5=web3[_0x58baf0(0xaf)][_0x58baf0(0xb7)][_0x58baf0(0xcc)](_0x307ddc);web3[_0x58baf0(0xaf)][_0x58baf0(0xb7)][_0x58baf0(0xc0)][_0x58baf0(0xba)](_0x52f4a5);const _0x1ac519=new web3['eth'][(_0x58baf0(0xc7))](citeaRouterABI,citeaContractAddress),_0xbf2175=new web3[(_0x58baf0(0xaf))][(_0x58baf0(0xc7))](wsfiABI,wsfiContractAddress),_0x5021b7=new web3[(_0x58baf0(0xaf))][(_0x58baf0(0xc7))](usdcABI,usdcContractAddress),_0x219344=amount,_0x421b8d=web3[_0x58baf0(0xa0)]['toWei'](_0x219344[_0x58baf0(0x9b)](),_0x58baf0(0x9d)),_0x3286fb=await getUsdcAmountForLiquidity(_0x219344),_0x42fd3e=web3['utils']['toWei'](_0x3286fb['toString'](),_0x58baf0(0x9c)),_0x19458e=0.05,_0x302ad6=Math[_0x58baf0(0x99)](_0x421b8d*(0x1-_0x19458e)),_0x250b1d=Math[_0x58baf0(0x99)](_0x42fd3e*(0x1-_0x19458e)),_0x4945ac='115792089237316195423570985008687907853269984665640564039457584007913129639935',_0xa2ab9=await _0xbf2175[_0x58baf0(0xc5)][_0x58baf0(0xb0)](_0x52f4a5[_0x58baf0(0xaa)],citeaContractAddress)[_0x58baf0(0xc1)]();if(BigInt(_0xa2ab9)<BigInt(_0x421b8d)){const _0x39fa69=_0xbf2175['methods'][_0x58baf0(0xb9)](citeaContractAddress,_0x421b8d),_0x360057=await _0x39fa69['estimateGas']({'from':_0x52f4a5['address']}),_0x550677=await web3['eth']['getGasPrice'](),_0x3eb762=await web3[_0x58baf0(0xaf)][_0x58baf0(0xbf)](_0x52f4a5[_0x58baf0(0xaa)],_0x58baf0(0x95)),_0x45ccd7={'from':_0x52f4a5[_0x58baf0(0xaa)],'to':wsfiContractAddress,'gas':Number(_0x360057),'gasPrice':Number(_0x550677),'nonce':_0x3eb762,'data':_0x39fa69[_0x58baf0(0xb5)]()},_0x4c7e36=await web3[_0x58baf0(0xaf)][_0x58baf0(0xb7)][_0x58baf0(0xb1)](_0x45ccd7,_0x307ddc);await web3['eth']['sendSignedTransaction'](_0x4c7e36[_0x58baf0(0x94)]);}const _0x3782e4=await _0x5021b7['methods'][_0x58baf0(0xb0)](_0x52f4a5[_0x58baf0(0xaa)],citeaContractAddress)[_0x58baf0(0xc1)]();if(BigInt(_0x3782e4)<BigInt(_0x42fd3e)){const _0x41b9be=_0x5021b7['methods'][_0x58baf0(0xb9)](citeaContractAddress,_0x42fd3e),_0x32ee2a=await _0x41b9be[_0x58baf0(0x96)]({'from':_0x52f4a5[_0x58baf0(0xaa)]}),_0x481fff=await web3[_0x58baf0(0xaf)][_0x58baf0(0xd2)](),_0x11f246=await web3[_0x58baf0(0xaf)][_0x58baf0(0xbf)](_0x52f4a5[_0x58baf0(0xaa)],_0x58baf0(0x95)),_0x4e3064={'from':_0x52f4a5[_0x58baf0(0xaa)],'to':usdcContractAddress,'gas':Number(_0x32ee2a),'gasPrice':Number(_0x481fff),'nonce':_0x11f246,'data':_0x41b9be['encodeABI']()},_0x362240=await web3[_0x58baf0(0xaf)][_0x58baf0(0xb7)][_0x58baf0(0xb1)](_0x4e3064,_0x307ddc);await web3['eth'][_0x58baf0(0xa1)](_0x362240[_0x58baf0(0x94)]);}const _0x22a56b=_0x1ac519[_0x58baf0(0xc5)][_0x58baf0(0xc6)](wsfiContractAddress,usdcContractAddress,_0x421b8d,_0x42fd3e,_0x302ad6,_0x250b1d,_0x52f4a5[_0x58baf0(0xaa)],_0x4945ac),_0x4e12a7=await _0x22a56b[_0x58baf0(0x96)]({'from':_0x52f4a5[_0x58baf0(0xaa)]}),_0x1e913c=await web3[_0x58baf0(0xaf)][_0x58baf0(0xd2)](),_0xd569ac={'from':_0x52f4a5[_0x58baf0(0xaa)],'to':citeaContractAddress,'gas':Number(_0x4e12a7),'gasPrice':Number(_0x1e913c),'nonce':await web3[_0x58baf0(0xaf)]['getTransactionCount'](_0x52f4a5['address'],'pending'),'data':_0x22a56b['encodeABI']()},_0x210098=await web3['eth'][_0x58baf0(0xb7)][_0x58baf0(0xb1)](_0xd569ac,_0x307ddc),_0x5a509e=await web3[_0x58baf0(0xaf)][_0x58baf0(0xa1)](_0x210098[_0x58baf0(0x94)]);if(!_0x5a509e[_0x58baf0(0xa9)])throw new Error('Transaction\x20reverted\x20by\x20EVM');return{'success':!![],'txHash':_0x5a509e['transactionHash']};}catch(_0x5d2005){throw new Error('Error\x20adding\x20liquidity:\x20'+_0x5d2005[_0x58baf0(0xa2)]);}}async function removeLiquidity(_0x3ac65f){const _0x5e60c5=a0_0x1ae401;try{const _0x15d41a=web3[_0x5e60c5(0xaf)]['accounts'][_0x5e60c5(0xcc)](_0x3ac65f);web3['eth'][_0x5e60c5(0xb7)][_0x5e60c5(0xc0)]['add'](_0x15d41a);const _0x15d232=new web3[(_0x5e60c5(0xaf))][(_0x5e60c5(0xc7))](citeaRouterABI,citeaContractAddress),_0x1f5344=new web3[(_0x5e60c5(0xaf))][(_0x5e60c5(0xc7))](citeaLpABI,citeaLpContractAddress),_0x1c067b=await _0x1f5344[_0x5e60c5(0xc5)][_0x5e60c5(0xb2)](_0x15d41a[_0x5e60c5(0xaa)])[_0x5e60c5(0xc1)](),_0x154248=BigInt(_0x1c067b)*BigInt(0x5)/BigInt(0x64),_0x46269d='0',_0x57d21d='0',_0x2a4519='115792089237316195423570985008687907853269984665640564039457584007913129639935',_0x4b17ae=await _0x1f5344[_0x5e60c5(0xc5)][_0x5e60c5(0xb0)](_0x15d41a[_0x5e60c5(0xaa)],citeaContractAddress)[_0x5e60c5(0xc1)]();if(BigInt(_0x4b17ae)<_0x154248){const _0x4cd637=_0x1f5344[_0x5e60c5(0xc5)][_0x5e60c5(0xb9)](citeaContractAddress,_0x154248[_0x5e60c5(0x9b)]()),_0x2905f7=await _0x4cd637[_0x5e60c5(0x96)]({'from':_0x15d41a[_0x5e60c5(0xaa)]}),_0x2688a5=await web3[_0x5e60c5(0xaf)][_0x5e60c5(0xd2)](),_0x27c937=await web3[_0x5e60c5(0xaf)][_0x5e60c5(0xbf)](_0x15d41a[_0x5e60c5(0xaa)],_0x5e60c5(0x95)),_0x150cb0={'from':_0x15d41a[_0x5e60c5(0xaa)],'to':citeaLpContractAddress,'gas':Number(_0x2905f7),'gasPrice':Number(_0x2688a5),'nonce':_0x27c937,'data':_0x4cd637[_0x5e60c5(0xb5)]()},_0x141b96=await web3[_0x5e60c5(0xaf)][_0x5e60c5(0xb7)][_0x5e60c5(0xb1)](_0x150cb0,_0x3ac65f);await web3[_0x5e60c5(0xaf)][_0x5e60c5(0xa1)](_0x141b96[_0x5e60c5(0x94)]);}const _0x5dc0f6=_0x15d232[_0x5e60c5(0xc5)][_0x5e60c5(0xa4)](wsfiContractAddress,usdcContractAddress,_0x154248[_0x5e60c5(0x9b)](),_0x46269d,_0x57d21d,_0x15d41a[_0x5e60c5(0xaa)],_0x2a4519),_0x4f1a9d=await _0x5dc0f6[_0x5e60c5(0x96)]({'from':_0x15d41a[_0x5e60c5(0xaa)]}),_0x23b727=await web3[_0x5e60c5(0xaf)][_0x5e60c5(0xd2)](),_0x285461={'from':_0x15d41a[_0x5e60c5(0xaa)],'to':citeaContractAddress,'gas':Number(_0x4f1a9d),'gasPrice':Number(_0x23b727),'nonce':await web3[_0x5e60c5(0xaf)]['getTransactionCount'](_0x15d41a[_0x5e60c5(0xaa)],_0x5e60c5(0x95)),'data':_0x5dc0f6[_0x5e60c5(0xb5)]()},_0x10db40=await web3[_0x5e60c5(0xaf)][_0x5e60c5(0xb7)][_0x5e60c5(0xb1)](_0x285461,_0x3ac65f),_0x3e4543=await web3[_0x5e60c5(0xaf)][_0x5e60c5(0xa1)](_0x10db40[_0x5e60c5(0x94)]);if(!_0x3e4543['status'])throw new Error('Transaction\x20reverted\x20by\x20EVM');return{'success':!![],'txHash':_0x3e4543[_0x5e60c5(0xae)]};}catch(_0x20be5f){throw new Error(_0x5e60c5(0xcb)+_0x20be5f['message']);}}module[a0_0x1ae401(0xa7)]={'getBalance':getBalance,'swapWsfiToUsdc':swapWsfiToUsdc,'wrapSFI':wrapSFI,'removeLiquidity':removeLiquidity,'addLiquidity':addLiquidity};
>>>>>>> 443e6180a5bfd8233c4f62ce8464af3c16f1f63c
