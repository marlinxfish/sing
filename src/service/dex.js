const a0_0x57dae7=a0_0x35de;function a0_0x5e29(){const _0x5cc3dd=['toWei','toString','status','pending','ether','call','10243863SzWRfm','signTransaction','privateKeyToAccount','10183170LAfBce','approve','balanceOf','0xD2ED81BE83B33218737Ca188EB9AC28b79C6A0F3','wallet','../utils/abi/wsfiABI','0xFEccff0ecf1cAa1669A71C5E00b51B48E4CBc6A1','314uaVBYT','getTransactionCount','../utils/abi/usdcABI','Error\x20adding\x20liquidity:\x20','exports','32268mtlKES','Contract','Error\x20removing\x20liquidity:\x20','estimateGas','utils','0xB54284F014DaB8dBdFC77097caa6af35e8233fF6','web3','removeLiquidity','mwei','allowance','https://rpc-testnet.singularityfinance.ai','floor','fromWei','3098235jGYeha','2573076iJVEMD','42011829eqoCKE','getAmountsOut','methods','address','../utils/abi/citeaRouterABI','1051305kIqTpX','add','../config/config','eth','8PMxNgA','Error\x20swapping\x20WSFI\x20to\x20USDC:\x20','message','swapExactTokensForTokensSupportingFeeOnTransferTokens','deposit','getGasPrice','now','transactionHash','addLiquidity','rawTransaction','accounts','Error\x20fetching\x20balance:\x20','sendSignedTransaction','encodeABI'];a0_0x5e29=function(){return _0x5cc3dd;};return a0_0x5e29();}function a0_0x35de(_0x24254c,_0x50a750){const _0x5e29de=a0_0x5e29();return a0_0x35de=function(_0x35deeb,_0x366ba3){_0x35deeb=_0x35deeb-0xb5;let _0x46ec3a=_0x5e29de[_0x35deeb];return _0x46ec3a;},a0_0x35de(_0x24254c,_0x50a750);}(function(_0x18d0c3,_0x4551d2){const _0x593b28=a0_0x35de,_0x3a93f1=_0x18d0c3();while(!![]){try{const _0x44e08a=-parseInt(_0x593b28(0xe9))/0x1+parseInt(_0x593b28(0xd0))/0x2*(-parseInt(_0x593b28(0xd5))/0x3)+-parseInt(_0x593b28(0xe3))/0x4+-parseInt(_0x593b28(0xe2))/0x5+parseInt(_0x593b28(0xc9))/0x6+-parseInt(_0x593b28(0xc6))/0x7+parseInt(_0x593b28(0xed))/0x8*(parseInt(_0x593b28(0xe4))/0x9);if(_0x44e08a===_0x4551d2)break;else _0x3a93f1['push'](_0x3a93f1['shift']());}catch(_0x573d85){_0x3a93f1['push'](_0x3a93f1['shift']());}}}(a0_0x5e29,0xdb726));const {Web3}=require(a0_0x57dae7(0xdb)),{amount}=require(a0_0x57dae7(0xeb)),citeaRouterABI=require(a0_0x57dae7(0xe8)),citeaLpABI=require('../utils/abi/citeaLpABI'),wsfiABI=require(a0_0x57dae7(0xce)),usdcABI=require(a0_0x57dae7(0xd2)),web3=new Web3(a0_0x57dae7(0xdf)),wsfiContractAddress='0x6dC404EFd04B880B0Ab5a26eF461b63A12E3888D',usdcContractAddress=a0_0x57dae7(0xcc),citeaContractAddress=a0_0x57dae7(0xcf),citeaLpContractAddress=a0_0x57dae7(0xda);async function getBalance(_0x15967f){const _0x526b36=a0_0x57dae7;try{const _0x9b266b=web3[_0x526b36(0xec)][_0x526b36(0xbc)]['privateKeyToAccount'](_0x15967f),_0x7879d9=await web3[_0x526b36(0xec)]['getBalance'](_0x9b266b[_0x526b36(0xe7)]),_0x423217=web3[_0x526b36(0xd9)]['fromWei'](_0x7879d9,_0x526b36(0xc4)),_0x1955d1=new web3[(_0x526b36(0xec))][(_0x526b36(0xd6))](wsfiABI,wsfiContractAddress),_0xe31bd9=await _0x1955d1[_0x526b36(0xe6)][_0x526b36(0xcb)](_0x9b266b[_0x526b36(0xe7)])['call'](),_0x3dde72=web3[_0x526b36(0xd9)]['fromWei'](_0xe31bd9,_0x526b36(0xc4)),_0x22dc9a=new web3[(_0x526b36(0xec))]['Contract'](usdcABI,usdcContractAddress),_0x630905=await _0x22dc9a[_0x526b36(0xe6)]['balanceOf'](_0x9b266b[_0x526b36(0xe7)])[_0x526b36(0xc5)](),_0x1f32a3=web3[_0x526b36(0xd9)][_0x526b36(0xe1)](_0x630905,'mwei'),_0x15cb40=new web3[(_0x526b36(0xec))][(_0x526b36(0xd6))](citeaLpABI,citeaLpContractAddress),_0x1cd16e=await _0x15cb40[_0x526b36(0xe6)][_0x526b36(0xcb)](_0x9b266b[_0x526b36(0xe7)])['call'](),_0x1ebd7e=web3[_0x526b36(0xd9)][_0x526b36(0xe1)](_0x1cd16e,'mwei');return{'formattedSFI':_0x423217,'formattedWSFI':_0x3dde72,'formattedUSDC':_0x1f32a3,'formattedCiteaLp':_0x1ebd7e};}catch(_0x350cba){throw new Error(_0x526b36(0xbd)+_0x350cba['message']);}}async function swapWsfiToUsdc(_0x119b5f){const _0x5b0176=a0_0x57dae7;try{const _0x21940b=web3[_0x5b0176(0xec)][_0x5b0176(0xbc)][_0x5b0176(0xc8)](_0x119b5f);web3['eth'][_0x5b0176(0xbc)]['wallet']['add'](_0x21940b);const _0x471b78=new web3[(_0x5b0176(0xec))][(_0x5b0176(0xd6))](citeaRouterABI,citeaContractAddress),_0x12d595=new web3[(_0x5b0176(0xec))][(_0x5b0176(0xd6))](wsfiABI,wsfiContractAddress),_0x5b9477=await _0x12d595[_0x5b0176(0xe6)][_0x5b0176(0xde)](_0x21940b['address'],citeaContractAddress)[_0x5b0176(0xc5)](),_0x5ad4cc=web3[_0x5b0176(0xd9)][_0x5b0176(0xc0)](amount['toString'](),'ether');if(parseFloat(_0x5b9477)<parseFloat(_0x5ad4cc)){const _0x1c106f=_0x12d595['methods'][_0x5b0176(0xca)](citeaContractAddress,_0x5ad4cc),_0x587b7b=await _0x1c106f['estimateGas']({'from':_0x21940b[_0x5b0176(0xe7)]}),_0xa6fc7d=await web3[_0x5b0176(0xec)][_0x5b0176(0xb7)](),_0x2d9b67=await web3[_0x5b0176(0xec)][_0x5b0176(0xd1)](_0x21940b[_0x5b0176(0xe7)],_0x5b0176(0xc3)),_0x32314c={'from':_0x21940b[_0x5b0176(0xe7)],'to':wsfiContractAddress,'gas':_0x587b7b,'gasPrice':_0xa6fc7d,'nonce':_0x2d9b67,'data':_0x1c106f['encodeABI']()},_0x4748ca=await web3[_0x5b0176(0xec)][_0x5b0176(0xbc)]['signTransaction'](_0x32314c,_0x119b5f);await web3[_0x5b0176(0xec)][_0x5b0176(0xbe)](_0x4748ca['rawTransaction']);}const _0x5dff83=[wsfiContractAddress,usdcContractAddress],_0x55abc9=Math[_0x5b0176(0xe0)](Date[_0x5b0176(0xb8)]()/0x3e8)+0x3c*0x5,_0x2613db=_0x471b78['methods'][_0x5b0176(0xb5)](_0x5ad4cc,0x0,_0x5dff83,_0x21940b['address'],_0x55abc9),_0x4b365c=await _0x2613db[_0x5b0176(0xd8)]({'from':_0x21940b[_0x5b0176(0xe7)]}),_0x120098=await web3[_0x5b0176(0xec)]['getGasPrice'](),_0x1bd751={'from':_0x21940b[_0x5b0176(0xe7)],'to':citeaContractAddress,'gas':_0x4b365c,'gasPrice':_0x120098,'nonce':await web3[_0x5b0176(0xec)][_0x5b0176(0xd1)](_0x21940b[_0x5b0176(0xe7)],'pending'),'data':_0x2613db['encodeABI']()},_0xbc19a=await web3[_0x5b0176(0xec)]['accounts'][_0x5b0176(0xc7)](_0x1bd751,_0x119b5f),_0x3aa94d=await web3[_0x5b0176(0xec)][_0x5b0176(0xbe)](_0xbc19a[_0x5b0176(0xbb)]);return{'success':!![],'txHash':_0x3aa94d[_0x5b0176(0xb9)]};}catch(_0x399a12){throw new Error(_0x5b0176(0xee)+_0x399a12[_0x5b0176(0xef)]);}}async function wrapSFI(_0x26d242){const _0x163f48=a0_0x57dae7;try{const _0x2b381a=web3[_0x163f48(0xec)][_0x163f48(0xbc)][_0x163f48(0xc8)](_0x26d242);web3[_0x163f48(0xec)][_0x163f48(0xbc)][_0x163f48(0xcd)][_0x163f48(0xea)](_0x2b381a);const _0x49050d=new web3[(_0x163f48(0xec))][(_0x163f48(0xd6))](wsfiABI,wsfiContractAddress),_0x4afb68=web3[_0x163f48(0xd9)][_0x163f48(0xc0)](amount[_0x163f48(0xc1)](),_0x163f48(0xc4)),_0x2b4d20=_0x49050d[_0x163f48(0xe6)][_0x163f48(0xb6)](),_0x21c396=await _0x2b4d20[_0x163f48(0xd8)]({'from':_0x2b381a[_0x163f48(0xe7)],'value':_0x4afb68}),_0x4b8992=await web3[_0x163f48(0xec)][_0x163f48(0xb7)](),_0x3041e7=await web3[_0x163f48(0xec)][_0x163f48(0xd1)](_0x2b381a[_0x163f48(0xe7)],_0x163f48(0xc3)),_0x135717={'from':_0x2b381a[_0x163f48(0xe7)],'to':wsfiContractAddress,'value':_0x4afb68,'gas':_0x21c396,'gasPrice':_0x4b8992,'nonce':_0x3041e7,'data':_0x2b4d20['encodeABI']()},_0x1ff303=await web3[_0x163f48(0xec)][_0x163f48(0xbc)][_0x163f48(0xc7)](_0x135717,_0x26d242),_0xc1c7a9=await web3[_0x163f48(0xec)][_0x163f48(0xbe)](_0x1ff303['rawTransaction']);return{'success':!![],'txHash':_0xc1c7a9[_0x163f48(0xb9)]};}catch(_0x29ec27){throw new Error('Error\x20wrapping\x20SFI:\x20'+_0x29ec27[_0x163f48(0xef)]);}}async function getUsdcAmountForLiquidity(_0x333247){const _0x4fcd5c=a0_0x57dae7;try{const _0x8844cc=new web3[(_0x4fcd5c(0xec))][(_0x4fcd5c(0xd6))](citeaRouterABI,citeaContractAddress),_0x2341c6=web3['utils'][_0x4fcd5c(0xc0)](_0x333247[_0x4fcd5c(0xc1)](),_0x4fcd5c(0xc4)),_0x2335cf=await _0x8844cc[_0x4fcd5c(0xe6)][_0x4fcd5c(0xe5)](_0x2341c6,[wsfiContractAddress,usdcContractAddress])[_0x4fcd5c(0xc5)](),_0x1aaa75=web3['utils'][_0x4fcd5c(0xe1)](_0x2335cf[0x1],_0x4fcd5c(0xdd));return _0x1aaa75;}catch(_0x404ae1){throw new Error('Error\x20fetching\x20USDC\x20amount:\x20'+_0x404ae1[_0x4fcd5c(0xef)]);}}async function addLiquidity(_0x303a20){const _0x3cdcac=a0_0x57dae7;try{const _0x2e5079=web3[_0x3cdcac(0xec)][_0x3cdcac(0xbc)][_0x3cdcac(0xc8)](_0x303a20);web3[_0x3cdcac(0xec)][_0x3cdcac(0xbc)][_0x3cdcac(0xcd)]['add'](_0x2e5079);const _0x35e89d=new web3['eth'][(_0x3cdcac(0xd6))](citeaRouterABI,citeaContractAddress),_0x3d89f7=new web3[(_0x3cdcac(0xec))][(_0x3cdcac(0xd6))](wsfiABI,wsfiContractAddress),_0x361081=new web3[(_0x3cdcac(0xec))]['Contract'](usdcABI,usdcContractAddress),_0x1a5bfc=amount,_0x4693c8=web3['utils'][_0x3cdcac(0xc0)](_0x1a5bfc['toString'](),'ether'),_0x1be588=await getUsdcAmountForLiquidity(_0x1a5bfc),_0x5ae776=web3[_0x3cdcac(0xd9)][_0x3cdcac(0xc0)](_0x1be588[_0x3cdcac(0xc1)](),_0x3cdcac(0xdd)),_0x429ff0='0',_0x4cc388='0',_0x49f74e=Math[_0x3cdcac(0xe0)](Date[_0x3cdcac(0xb8)]()/0x3e8)+0x3c*0xa,_0x83d2df=await _0x3d89f7['methods'][_0x3cdcac(0xde)](_0x2e5079['address'],citeaContractAddress)[_0x3cdcac(0xc5)]();if(BigInt(_0x83d2df)<BigInt(_0x4693c8)){const _0x1de584=_0x3d89f7['methods'][_0x3cdcac(0xca)](citeaContractAddress,_0x4693c8),_0x3d83e2=await _0x1de584[_0x3cdcac(0xd8)]({'from':_0x2e5079[_0x3cdcac(0xe7)]}),_0x1bf91e=await web3[_0x3cdcac(0xec)][_0x3cdcac(0xb7)](),_0x44d852=await web3['eth']['getTransactionCount'](_0x2e5079['address'],_0x3cdcac(0xc3)),_0x34b671={'from':_0x2e5079[_0x3cdcac(0xe7)],'to':wsfiContractAddress,'gas':Number(_0x3d83e2),'gasPrice':Number(_0x1bf91e),'nonce':_0x44d852,'data':_0x1de584['encodeABI']()},_0xb0a16a=await web3[_0x3cdcac(0xec)][_0x3cdcac(0xbc)][_0x3cdcac(0xc7)](_0x34b671,_0x303a20);await web3[_0x3cdcac(0xec)][_0x3cdcac(0xbe)](_0xb0a16a['rawTransaction']);}const _0x44c8cc=await _0x361081[_0x3cdcac(0xe6)][_0x3cdcac(0xde)](_0x2e5079[_0x3cdcac(0xe7)],citeaContractAddress)[_0x3cdcac(0xc5)]();if(BigInt(_0x44c8cc)<BigInt(_0x5ae776)){const _0x1afd85=_0x361081[_0x3cdcac(0xe6)][_0x3cdcac(0xca)](citeaContractAddress,_0x5ae776),_0x2b4647=await _0x1afd85[_0x3cdcac(0xd8)]({'from':_0x2e5079['address']}),_0x286cc6=await web3[_0x3cdcac(0xec)][_0x3cdcac(0xb7)](),_0x3e0e16=await web3[_0x3cdcac(0xec)][_0x3cdcac(0xd1)](_0x2e5079[_0x3cdcac(0xe7)],_0x3cdcac(0xc3)),_0x32bf66={'from':_0x2e5079[_0x3cdcac(0xe7)],'to':usdcContractAddress,'gas':Number(_0x2b4647),'gasPrice':Number(_0x286cc6),'nonce':_0x3e0e16,'data':_0x1afd85[_0x3cdcac(0xbf)]()},_0x9566a1=await web3['eth'][_0x3cdcac(0xbc)][_0x3cdcac(0xc7)](_0x32bf66,_0x303a20);await web3[_0x3cdcac(0xec)][_0x3cdcac(0xbe)](_0x9566a1[_0x3cdcac(0xbb)]);}const _0x3b9cdd=_0x35e89d[_0x3cdcac(0xe6)][_0x3cdcac(0xba)](wsfiContractAddress,usdcContractAddress,_0x4693c8,_0x5ae776,_0x429ff0,_0x4cc388,_0x2e5079[_0x3cdcac(0xe7)],_0x49f74e),_0x20f762=await _0x3b9cdd[_0x3cdcac(0xd8)]({'from':_0x2e5079[_0x3cdcac(0xe7)]}),_0x2f5f84=await web3['eth'][_0x3cdcac(0xb7)](),_0x192fa3={'from':_0x2e5079[_0x3cdcac(0xe7)],'to':citeaContractAddress,'gas':Number(_0x20f762),'gasPrice':Number(_0x2f5f84),'nonce':await web3[_0x3cdcac(0xec)][_0x3cdcac(0xd1)](_0x2e5079[_0x3cdcac(0xe7)],'pending'),'data':_0x3b9cdd[_0x3cdcac(0xbf)]()},_0x44728d=await web3['eth'][_0x3cdcac(0xbc)][_0x3cdcac(0xc7)](_0x192fa3,_0x303a20),_0x8f4ed2=await web3[_0x3cdcac(0xec)][_0x3cdcac(0xbe)](_0x44728d[_0x3cdcac(0xbb)]);if(!_0x8f4ed2[_0x3cdcac(0xc2)])throw new Error('Transaction\x20reverted\x20by\x20EVM');return{'success':!![],'txHash':_0x8f4ed2[_0x3cdcac(0xb9)]};}catch(_0x1eeae9){throw new Error(_0x3cdcac(0xd3)+_0x1eeae9[_0x3cdcac(0xef)]);}}async function removeLiquidity(_0x17ef8a){const _0x2b04c4=a0_0x57dae7;try{const _0x82a0d6=web3[_0x2b04c4(0xec)][_0x2b04c4(0xbc)][_0x2b04c4(0xc8)](_0x17ef8a);web3['eth']['accounts'][_0x2b04c4(0xcd)][_0x2b04c4(0xea)](_0x82a0d6);const _0x2dff9a=new web3[(_0x2b04c4(0xec))]['Contract'](citeaRouterABI,citeaContractAddress),_0x5f36f1=new web3['eth'][(_0x2b04c4(0xd6))](citeaLpABI,citeaLpContractAddress),_0x37fbbe=await _0x5f36f1[_0x2b04c4(0xe6)][_0x2b04c4(0xcb)](_0x82a0d6[_0x2b04c4(0xe7)])['call'](),_0x2b3e74=BigInt(_0x37fbbe)*BigInt(0x5)/BigInt(0x64),_0x56d58e='0',_0x2dd4ac='0',_0x58fd86=Math[_0x2b04c4(0xe0)](Date['now']()/0x3e8)+0x3c*0xa,_0x12338e=await _0x5f36f1[_0x2b04c4(0xe6)]['allowance'](_0x82a0d6['address'],citeaContractAddress)[_0x2b04c4(0xc5)]();if(BigInt(_0x12338e)<_0x2b3e74){const _0x42859c=_0x5f36f1[_0x2b04c4(0xe6)][_0x2b04c4(0xca)](citeaContractAddress,_0x2b3e74[_0x2b04c4(0xc1)]()),_0x1d2183=await _0x42859c[_0x2b04c4(0xd8)]({'from':_0x82a0d6[_0x2b04c4(0xe7)]}),_0x290862=await web3[_0x2b04c4(0xec)]['getGasPrice'](),_0x346760=await web3['eth'][_0x2b04c4(0xd1)](_0x82a0d6[_0x2b04c4(0xe7)],_0x2b04c4(0xc3)),_0x3f9d4f={'from':_0x82a0d6[_0x2b04c4(0xe7)],'to':citeaLpContractAddress,'gas':Number(_0x1d2183),'gasPrice':Number(_0x290862),'nonce':_0x346760,'data':_0x42859c[_0x2b04c4(0xbf)]()},_0x57c972=await web3['eth'][_0x2b04c4(0xbc)][_0x2b04c4(0xc7)](_0x3f9d4f,_0x17ef8a);await web3[_0x2b04c4(0xec)][_0x2b04c4(0xbe)](_0x57c972[_0x2b04c4(0xbb)]);}const _0x546b1e=_0x2dff9a[_0x2b04c4(0xe6)][_0x2b04c4(0xdc)](wsfiContractAddress,usdcContractAddress,_0x2b3e74[_0x2b04c4(0xc1)](),_0x56d58e,_0x2dd4ac,_0x82a0d6[_0x2b04c4(0xe7)],_0x58fd86),_0x8574be=await _0x546b1e['estimateGas']({'from':_0x82a0d6[_0x2b04c4(0xe7)]}),_0x119d40=await web3[_0x2b04c4(0xec)]['getGasPrice'](),_0x8c8779={'from':_0x82a0d6[_0x2b04c4(0xe7)],'to':citeaContractAddress,'gas':Number(_0x8574be),'gasPrice':Number(_0x119d40),'nonce':await web3[_0x2b04c4(0xec)][_0x2b04c4(0xd1)](_0x82a0d6[_0x2b04c4(0xe7)],_0x2b04c4(0xc3)),'data':_0x546b1e['encodeABI']()},_0x3334ec=await web3[_0x2b04c4(0xec)][_0x2b04c4(0xbc)][_0x2b04c4(0xc7)](_0x8c8779,_0x17ef8a),_0x254b50=await web3[_0x2b04c4(0xec)][_0x2b04c4(0xbe)](_0x3334ec[_0x2b04c4(0xbb)]);if(!_0x254b50['status'])throw new Error('Transaction\x20reverted\x20by\x20EVM');return{'success':!![],'txHash':_0x254b50[_0x2b04c4(0xb9)]};}catch(_0x55d08c){throw new Error(_0x2b04c4(0xd7)+_0x55d08c[_0x2b04c4(0xef)]);}}module[a0_0x57dae7(0xd4)]={'getBalance':getBalance,'swapWsfiToUsdc':swapWsfiToUsdc,'wrapSFI':wrapSFI,'removeLiquidity':removeLiquidity,'addLiquidity':addLiquidity};