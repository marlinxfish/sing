const a0_0x167801=a0_0x229e;function a0_0x2214(){const _0x4cbd11=['Error\x20wrapping\x20SFI:\x20','exports','wallet','6489864TmUSdS','toString','signTransaction','addLiquidity','16690476QdjFwd','Error\x20adding\x20liquidity:\x20','fromWei','ether','pending','transactionHash','web3','https://rpc-testnet.singularityfinance.ai','../utils/abi/citeaRouterABI','Contract','address','getBalance','swapExactTokensForTokensSupportingFeeOnTransferTokens','allowance','44755mIFedx','call','add','getPair','utils','now','sendSignedTransaction','methods','rawTransaction','9012PpjCyC','212JGChIw','../utils/abi/citeaLpABI','getTransactionCount','5276gVScAM','702wiOPRc','0xFEccff0ecf1cAa1669A71C5E00b51B48E4CBc6A1','6769432wEsFHp','accounts','balanceOf','186BveAac','0x6dC404EFd04B880B0Ab5a26eF461b63A12E3888D','estimateGas','7nZByvX','eth','totalSupply','Error\x20fetching\x20balance:\x20','0xD2ED81BE83B33218737Ca188EB9AC28b79C6A0F3','message','removeLiquidity','getAmountsOut','toWei','getGasPrice','approve','getReserves','Error\x20fetching\x20USDC\x20amount:\x20','floor','mwei','status','Transaction\x20reverted\x20by\x20EVM','../utils/abi/wsfiABI','10439140xrKChA','0x0000000000000000000000000000000000000000','privateKeyToAccount','encodeABI','../config/config','Error\x20swapping\x20WSFI\x20to\x20USDC:\x20'];a0_0x2214=function(){return _0x4cbd11;};return a0_0x2214();}(function(_0x4b2b48,_0x51da06){const _0x455844=a0_0x229e,_0x539bd9=_0x4b2b48();while(!![]){try{const _0x594ca9=-parseInt(_0x455844(0x1ea))/0x1*(-parseInt(_0x455844(0x1e9))/0x2)+-parseInt(_0x455844(0x1ee))/0x3*(-parseInt(_0x455844(0x1ed))/0x4)+-parseInt(_0x455844(0x1e0))/0x5*(-parseInt(_0x455844(0x1f3))/0x6)+parseInt(_0x455844(0x1f6))/0x7*(parseInt(_0x455844(0x1f0))/0x8)+parseInt(_0x455844(0x1ce))/0x9+-parseInt(_0x455844(0x1c5))/0xa+-parseInt(_0x455844(0x1d2))/0xb;if(_0x594ca9===_0x51da06)break;else _0x539bd9['push'](_0x539bd9['shift']());}catch(_0x62694b){_0x539bd9['push'](_0x539bd9['shift']());}}}(a0_0x2214,0x85a74));const {Web3}=require(a0_0x167801(0x1d8)),{amount}=require(a0_0x167801(0x1c9)),citeaRouterABI=require(a0_0x167801(0x1da)),citeaLpABI=require(a0_0x167801(0x1eb)),wsfiABI=require(a0_0x167801(0x1c4)),usdcABI=require('../utils/abi/usdcABI'),web3=new Web3(a0_0x167801(0x1d9)),wsfiContractAddress=a0_0x167801(0x1f4),usdcContractAddress=a0_0x167801(0x1fa),citeaContractAddress=a0_0x167801(0x1ef),citeaLpContractAddress='0xB54284F014DaB8dBdFC77097caa6af35e8233fF6';async function getBalance(_0x506b29){const _0x3b57d7=a0_0x167801;try{const _0x262bfb=web3[_0x3b57d7(0x1f7)]['accounts'][_0x3b57d7(0x1c7)](_0x506b29),_0x2200da=await web3['eth'][_0x3b57d7(0x1dd)](_0x262bfb[_0x3b57d7(0x1dc)]),_0x5ab6ab=web3[_0x3b57d7(0x1e4)][_0x3b57d7(0x1d4)](_0x2200da,'ether'),_0x18d1ef=new web3[(_0x3b57d7(0x1f7))]['Contract'](wsfiABI,wsfiContractAddress),_0x25dc4c=await _0x18d1ef['methods'][_0x3b57d7(0x1f2)](_0x262bfb[_0x3b57d7(0x1dc)])[_0x3b57d7(0x1e1)](),_0x43b88b=web3[_0x3b57d7(0x1e4)]['fromWei'](_0x25dc4c,_0x3b57d7(0x1d5)),_0x10f2b5=new web3[(_0x3b57d7(0x1f7))]['Contract'](usdcABI,usdcContractAddress),_0x53281b=await _0x10f2b5['methods'][_0x3b57d7(0x1f2)](_0x262bfb[_0x3b57d7(0x1dc)])[_0x3b57d7(0x1e1)](),_0x353e78=web3[_0x3b57d7(0x1e4)]['fromWei'](_0x53281b,_0x3b57d7(0x204)),_0x35e399=new web3[(_0x3b57d7(0x1f7))][(_0x3b57d7(0x1db))](citeaLpABI,citeaLpContractAddress),_0xb1b2de=await _0x35e399[_0x3b57d7(0x1e7)]['balanceOf'](_0x262bfb['address'])['call'](),_0x560bc7=web3[_0x3b57d7(0x1e4)]['fromWei'](_0xb1b2de,_0x3b57d7(0x204));return{'formattedSFI':_0x5ab6ab,'formattedWSFI':_0x43b88b,'formattedUSDC':_0x353e78,'formattedCiteaLp':_0x560bc7};}catch(_0x462748){throw new Error(_0x3b57d7(0x1f9)+_0x462748['message']);}}async function swapWsfiToUsdc(_0x4b2159){const _0x208ad4=a0_0x167801;try{const _0xc58efa=web3[_0x208ad4(0x1f7)][_0x208ad4(0x1f1)][_0x208ad4(0x1c7)](_0x4b2159);web3[_0x208ad4(0x1f7)][_0x208ad4(0x1f1)][_0x208ad4(0x1cd)][_0x208ad4(0x1e2)](_0xc58efa);const _0x3007ac=new web3[(_0x208ad4(0x1f7))][(_0x208ad4(0x1db))](citeaRouterABI,citeaContractAddress),_0x4dfda8=new web3['eth']['Contract'](wsfiABI,wsfiContractAddress),_0xbe014f=await _0x4dfda8[_0x208ad4(0x1e7)][_0x208ad4(0x1df)](_0xc58efa['address'],citeaContractAddress)[_0x208ad4(0x1e1)](),_0x397df0=web3[_0x208ad4(0x1e4)][_0x208ad4(0x1fe)](amount['toString'](),_0x208ad4(0x1d5));if(parseFloat(_0xbe014f)<parseFloat(_0x397df0)){const _0x5da153=_0x4dfda8[_0x208ad4(0x1e7)][_0x208ad4(0x200)](citeaContractAddress,_0x397df0),_0x2cfff6=await _0x5da153[_0x208ad4(0x1f5)]({'from':_0xc58efa[_0x208ad4(0x1dc)]}),_0x181efd=await web3['eth']['getGasPrice'](),_0x1f9230=await web3[_0x208ad4(0x1f7)][_0x208ad4(0x1ec)](_0xc58efa[_0x208ad4(0x1dc)],_0x208ad4(0x1d6)),_0x1a8254={'from':_0xc58efa[_0x208ad4(0x1dc)],'to':wsfiContractAddress,'gas':_0x2cfff6,'gasPrice':_0x181efd,'nonce':_0x1f9230,'data':_0x5da153[_0x208ad4(0x1c8)]()},_0x67ce58=await web3[_0x208ad4(0x1f7)][_0x208ad4(0x1f1)][_0x208ad4(0x1d0)](_0x1a8254,_0x4b2159);await web3['eth'][_0x208ad4(0x1e6)](_0x67ce58[_0x208ad4(0x1e8)]);}const _0x2517f8=[wsfiContractAddress,usdcContractAddress],_0x3bcb71=Math['floor'](Date[_0x208ad4(0x1e5)]()/0x3e8)+0x3c*0x5,_0x502a85=_0x3007ac[_0x208ad4(0x1e7)][_0x208ad4(0x1de)](_0x397df0,0x0,_0x2517f8,_0xc58efa[_0x208ad4(0x1dc)],_0x3bcb71),_0x4f53ba=await _0x502a85[_0x208ad4(0x1f5)]({'from':_0xc58efa['address']}),_0x17027c=await web3[_0x208ad4(0x1f7)][_0x208ad4(0x1ff)](),_0x5b72ff={'from':_0xc58efa['address'],'to':citeaContractAddress,'gas':_0x4f53ba,'gasPrice':_0x17027c,'nonce':await web3['eth'][_0x208ad4(0x1ec)](_0xc58efa[_0x208ad4(0x1dc)],_0x208ad4(0x1d6)),'data':_0x502a85[_0x208ad4(0x1c8)]()},_0x23b7ac=await web3[_0x208ad4(0x1f7)][_0x208ad4(0x1f1)][_0x208ad4(0x1d0)](_0x5b72ff,_0x4b2159),_0x58dd37=await web3['eth'][_0x208ad4(0x1e6)](_0x23b7ac[_0x208ad4(0x1e8)]);return{'success':!![],'txHash':_0x58dd37[_0x208ad4(0x1d7)]};}catch(_0x4b35f2){throw new Error(_0x208ad4(0x1ca)+_0x4b35f2['message']);}}async function wrapSFI(_0xc5a1a2){const _0x115339=a0_0x167801;try{const _0x264732=web3[_0x115339(0x1f7)][_0x115339(0x1f1)][_0x115339(0x1c7)](_0xc5a1a2);web3['eth'][_0x115339(0x1f1)][_0x115339(0x1cd)]['add'](_0x264732);const _0x597165=new web3[(_0x115339(0x1f7))]['Contract'](wsfiABI,wsfiContractAddress),_0x47fc8c=web3[_0x115339(0x1e4)][_0x115339(0x1fe)](amount[_0x115339(0x1cf)](),_0x115339(0x1d5)),_0x2a0728=_0x597165[_0x115339(0x1e7)]['deposit'](),_0x150cd9=await _0x2a0728['estimateGas']({'from':_0x264732['address'],'value':_0x47fc8c}),_0x314da6=await web3[_0x115339(0x1f7)]['getGasPrice'](),_0xe8e5d9=await web3['eth'][_0x115339(0x1ec)](_0x264732[_0x115339(0x1dc)],_0x115339(0x1d6)),_0x4fabf1={'from':_0x264732[_0x115339(0x1dc)],'to':wsfiContractAddress,'value':_0x47fc8c,'gas':_0x150cd9,'gasPrice':_0x314da6,'nonce':_0xe8e5d9,'data':_0x2a0728[_0x115339(0x1c8)]()},_0x4cd431=await web3[_0x115339(0x1f7)]['accounts']['signTransaction'](_0x4fabf1,_0xc5a1a2),_0x3ff9a8=await web3[_0x115339(0x1f7)]['sendSignedTransaction'](_0x4cd431[_0x115339(0x1e8)]);return{'success':!![],'txHash':_0x3ff9a8['transactionHash']};}catch(_0x4839c5){throw new Error(_0x115339(0x1cb)+_0x4839c5[_0x115339(0x1fb)]);}}async function getUsdcAmountForLiquidity(_0x60a35e){const _0x408c9e=a0_0x167801;try{const _0x6f03a2=new web3[(_0x408c9e(0x1f7))][(_0x408c9e(0x1db))](citeaRouterABI,citeaContractAddress),_0x50599a=web3['utils'][_0x408c9e(0x1fe)](_0x60a35e[_0x408c9e(0x1cf)](),_0x408c9e(0x1d5)),_0x4d0d51=await _0x6f03a2[_0x408c9e(0x1e7)][_0x408c9e(0x1fd)](_0x50599a,[wsfiContractAddress,usdcContractAddress])['call'](),_0x7eee78=web3[_0x408c9e(0x1e4)][_0x408c9e(0x1d4)](_0x4d0d51[0x1],_0x408c9e(0x204));return _0x7eee78;}catch(_0x44d9d2){throw new Error(_0x408c9e(0x202)+_0x44d9d2['message']);}}async function addLiquidity(_0x4e7e71){const _0x239514=a0_0x167801;try{const _0x5b4b01=web3[_0x239514(0x1f7)][_0x239514(0x1f1)][_0x239514(0x1c7)](_0x4e7e71);web3[_0x239514(0x1f7)][_0x239514(0x1f1)][_0x239514(0x1cd)][_0x239514(0x1e2)](_0x5b4b01);const _0x1164b1=new web3[(_0x239514(0x1f7))][(_0x239514(0x1db))](citeaRouterABI,citeaContractAddress),_0x5f5669=new web3[(_0x239514(0x1f7))][(_0x239514(0x1db))](wsfiABI,wsfiContractAddress),_0x388ab5=new web3[(_0x239514(0x1f7))][(_0x239514(0x1db))](usdcABI,usdcContractAddress),_0x40e7c1=amount,_0x34b586=web3[_0x239514(0x1e4)]['toWei'](_0x40e7c1[_0x239514(0x1cf)](),_0x239514(0x1d5)),_0x310878=await getUsdcAmountForLiquidity(_0x40e7c1),_0x430353=web3['utils'][_0x239514(0x1fe)](_0x310878['toString'](),_0x239514(0x204)),_0x2ab09b=0.05,_0x52d021=Math[_0x239514(0x203)](_0x34b586*(0x1-_0x2ab09b)),_0x19fbb4=Math[_0x239514(0x203)](_0x430353*(0x1-_0x2ab09b)),_0x3cdad6='115792089237316195423570985008687907853269984665640564039457584007913129639935',_0x1ebc7b=await _0x5f5669[_0x239514(0x1e7)][_0x239514(0x1df)](_0x5b4b01[_0x239514(0x1dc)],citeaContractAddress)[_0x239514(0x1e1)]();if(BigInt(_0x1ebc7b)<BigInt(_0x34b586)){const _0x3c0741=_0x5f5669['methods'][_0x239514(0x200)](citeaContractAddress,_0x34b586),_0x18f687=await _0x3c0741['estimateGas']({'from':_0x5b4b01['address']}),_0x5d91e8=await web3[_0x239514(0x1f7)][_0x239514(0x1ff)](),_0x551df2=await web3[_0x239514(0x1f7)]['getTransactionCount'](_0x5b4b01[_0x239514(0x1dc)],_0x239514(0x1d6)),_0x272b9d={'from':_0x5b4b01[_0x239514(0x1dc)],'to':wsfiContractAddress,'gas':Number(_0x18f687),'gasPrice':Number(_0x5d91e8),'nonce':_0x551df2,'data':_0x3c0741[_0x239514(0x1c8)]()},_0xdca4ab=await web3[_0x239514(0x1f7)][_0x239514(0x1f1)]['signTransaction'](_0x272b9d,_0x4e7e71);await web3[_0x239514(0x1f7)][_0x239514(0x1e6)](_0xdca4ab[_0x239514(0x1e8)]);}const _0x55209c=await _0x388ab5['methods'][_0x239514(0x1df)](_0x5b4b01[_0x239514(0x1dc)],citeaContractAddress)['call']();if(BigInt(_0x55209c)<BigInt(_0x430353)){const _0x4cc422=_0x388ab5[_0x239514(0x1e7)]['approve'](citeaContractAddress,_0x430353),_0x48c14c=await _0x4cc422[_0x239514(0x1f5)]({'from':_0x5b4b01[_0x239514(0x1dc)]}),_0x393aa5=await web3[_0x239514(0x1f7)][_0x239514(0x1ff)](),_0x5856cf=await web3['eth'][_0x239514(0x1ec)](_0x5b4b01[_0x239514(0x1dc)],'pending'),_0x39a4a8={'from':_0x5b4b01['address'],'to':usdcContractAddress,'gas':Number(_0x48c14c),'gasPrice':Number(_0x393aa5),'nonce':_0x5856cf,'data':_0x4cc422[_0x239514(0x1c8)]()},_0x2da128=await web3['eth'][_0x239514(0x1f1)]['signTransaction'](_0x39a4a8,_0x4e7e71);await web3[_0x239514(0x1f7)]['sendSignedTransaction'](_0x2da128[_0x239514(0x1e8)]);}const _0x4fc01f=_0x1164b1[_0x239514(0x1e7)][_0x239514(0x1d1)](wsfiContractAddress,usdcContractAddress,_0x34b586,_0x430353,_0x52d021,_0x19fbb4,_0x5b4b01[_0x239514(0x1dc)],_0x3cdad6),_0x447f6f=await _0x4fc01f[_0x239514(0x1f5)]({'from':_0x5b4b01[_0x239514(0x1dc)]}),_0x339803=await web3[_0x239514(0x1f7)][_0x239514(0x1ff)](),_0x5738a5={'from':_0x5b4b01[_0x239514(0x1dc)],'to':citeaContractAddress,'gas':Number(_0x447f6f),'gasPrice':Number(_0x339803),'nonce':await web3['eth'][_0x239514(0x1ec)](_0x5b4b01[_0x239514(0x1dc)],'pending'),'data':_0x4fc01f['encodeABI']()},_0x2d515f=await web3[_0x239514(0x1f7)][_0x239514(0x1f1)][_0x239514(0x1d0)](_0x5738a5,_0x4e7e71),_0x35c500=await web3[_0x239514(0x1f7)][_0x239514(0x1e6)](_0x2d515f[_0x239514(0x1e8)]);if(!_0x35c500[_0x239514(0x1c2)])throw new Error(_0x239514(0x1c3));return{'success':!![],'txHash':_0x35c500['transactionHash']};}catch(_0x58889a){throw new Error(_0x239514(0x1d3)+_0x58889a['message']);}}async function removeLiquidity(_0x25a1db){const _0x49a158=a0_0x167801;try{const _0x13f302=web3['eth'][_0x49a158(0x1f1)][_0x49a158(0x1c7)](_0x25a1db);web3[_0x49a158(0x1f7)][_0x49a158(0x1f1)][_0x49a158(0x1cd)]['add'](_0x13f302);const _0x474d57=new web3[(_0x49a158(0x1f7))][(_0x49a158(0x1db))](citeaRouterABI,citeaContractAddress),_0x3d58ae=new web3[(_0x49a158(0x1f7))][(_0x49a158(0x1db))](citeaFactoryABI,citeaFactoryAddress),_0x129e21=new web3[(_0x49a158(0x1f7))]['Contract'](citeaLpABI,citeaLpContractAddress),_0x28571e=await _0x129e21[_0x49a158(0x1e7)]['balanceOf'](_0x13f302[_0x49a158(0x1dc)])[_0x49a158(0x1e1)](),_0x5f0e9d=BigInt(_0x28571e)*BigInt(0x19)/BigInt(0x64),_0x50164b=await _0x3d58ae['methods'][_0x49a158(0x1e3)](wsfiContractAddress,usdcContractAddress)[_0x49a158(0x1e1)]();if(_0x50164b===_0x49a158(0x1c6))throw new Error('Pool\x20does\x20not\x20exist\x20for\x20the\x20given\x20token\x20pair.');const _0x37110e=new web3[(_0x49a158(0x1f7))]['Contract'](citeaLpABI,citeaLpContractAddress),_0x2a04a6=await _0x37110e[_0x49a158(0x1e7)][_0x49a158(0x201)]()[_0x49a158(0x1e1)](),_0x5888c0=_0x2a04a6[0x0],_0x511f88=_0x2a04a6[0x1],_0x11a147=await _0x129e21[_0x49a158(0x1e7)][_0x49a158(0x1f8)]()['call'](),_0x32b7d5=_0x5f0e9d*BigInt(_0x5888c0)/BigInt(_0x11a147),_0xff64f7=_0x5f0e9d*BigInt(_0x511f88)/BigInt(_0x11a147),_0x529615=0.05,_0x57d6e2=_0x32b7d5*BigInt(0x5f)/BigInt(0x64),_0x51ab9d=_0xff64f7*BigInt(0x5f)/BigInt(0x64),_0x2656f4='115792089237316195423570985008687907853269984665640564039457584007913129639935',_0x3d2f6b=await _0x129e21[_0x49a158(0x1e7)][_0x49a158(0x1df)](_0x13f302[_0x49a158(0x1dc)],citeaContractAddress)['call']();if(BigInt(_0x3d2f6b)<_0x5f0e9d){const _0x20560c=_0x129e21[_0x49a158(0x1e7)][_0x49a158(0x200)](citeaContractAddress,_0x5f0e9d[_0x49a158(0x1cf)]()),_0x1dbba0=await _0x20560c[_0x49a158(0x1f5)]({'from':_0x13f302[_0x49a158(0x1dc)]}),_0x1f39ce=await web3[_0x49a158(0x1f7)][_0x49a158(0x1ff)](),_0x22943f=await web3[_0x49a158(0x1f7)][_0x49a158(0x1ec)](_0x13f302[_0x49a158(0x1dc)],'pending'),_0x370953={'from':_0x13f302[_0x49a158(0x1dc)],'to':citeaLpContractAddress,'gas':Number(_0x1dbba0),'gasPrice':Number(_0x1f39ce),'nonce':_0x22943f,'data':_0x20560c['encodeABI']()},_0xbaa569=await web3['eth'][_0x49a158(0x1f1)][_0x49a158(0x1d0)](_0x370953,_0x25a1db);await web3[_0x49a158(0x1f7)][_0x49a158(0x1e6)](_0xbaa569[_0x49a158(0x1e8)]);}const _0x319344=_0x474d57[_0x49a158(0x1e7)][_0x49a158(0x1fc)](wsfiContractAddress,usdcContractAddress,_0x5f0e9d[_0x49a158(0x1cf)](),_0x57d6e2['toString'](),_0x51ab9d[_0x49a158(0x1cf)](),_0x13f302[_0x49a158(0x1dc)],_0x2656f4),_0x907a0=await _0x319344[_0x49a158(0x1f5)]({'from':_0x13f302[_0x49a158(0x1dc)]}),_0x34b829=await web3[_0x49a158(0x1f7)][_0x49a158(0x1ff)](),_0x368222={'from':_0x13f302['address'],'to':citeaContractAddress,'gas':Number(_0x907a0),'gasPrice':Number(_0x34b829),'nonce':await web3[_0x49a158(0x1f7)]['getTransactionCount'](_0x13f302[_0x49a158(0x1dc)],_0x49a158(0x1d6)),'data':_0x319344['encodeABI']()},_0x21e374=await web3[_0x49a158(0x1f7)][_0x49a158(0x1f1)][_0x49a158(0x1d0)](_0x368222,_0x25a1db),_0x19de2c=await web3[_0x49a158(0x1f7)]['sendSignedTransaction'](_0x21e374[_0x49a158(0x1e8)]);if(!_0x19de2c['status'])throw new Error(_0x49a158(0x1c3));return{'success':!![],'txHash':_0x19de2c[_0x49a158(0x1d7)]};}catch(_0x84860a){throw new Error('Error\x20removing\x20liquidity:\x20'+_0x84860a[_0x49a158(0x1fb)]);}}function a0_0x229e(_0x31e783,_0x3c9b87){const _0x22141a=a0_0x2214();return a0_0x229e=function(_0x229ef5,_0x4fb042){_0x229ef5=_0x229ef5-0x1c2;let _0x595ddd=_0x22141a[_0x229ef5];return _0x595ddd;},a0_0x229e(_0x31e783,_0x3c9b87);}module[a0_0x167801(0x1cc)]={'getBalance':getBalance,'swapWsfiToUsdc':swapWsfiToUsdc,'wrapSFI':wrapSFI,'removeLiquidity':removeLiquidity,'addLiquidity':addLiquidity};