const a0_0x8d660c=a0_0xb56f;(function(_0x1b89ea,_0x7d925f){const _0x56eccb=a0_0xb56f,_0x463ea8=_0x1b89ea();while(!![]){try{const _0x53fd7e=-parseInt(_0x56eccb(0x11c))/0x1*(-parseInt(_0x56eccb(0xf6))/0x2)+-parseInt(_0x56eccb(0x123))/0x3+-parseInt(_0x56eccb(0x105))/0x4*(parseInt(_0x56eccb(0x126))/0x5)+-parseInt(_0x56eccb(0x118))/0x6+parseInt(_0x56eccb(0x125))/0x7+-parseInt(_0x56eccb(0x11d))/0x8+parseInt(_0x56eccb(0xfb))/0x9;if(_0x53fd7e===_0x7d925f)break;else _0x463ea8['push'](_0x463ea8['shift']());}catch(_0x520937){_0x463ea8['push'](_0x463ea8['shift']());}}}(a0_0x28c9,0xaee31));const {ethers}=require(a0_0x8d660c(0xee)),{amount}=require(a0_0x8d660c(0x10b)),citeaRouterABI=require(a0_0x8d660c(0x108)),citeaLpABI=require(a0_0x8d660c(0x101)),wsfiABI=require(a0_0x8d660c(0x10d)),usdcABI=require(a0_0x8d660c(0x100)),sDaoLockingStakingABI=require('../utils/abi/sDaoLockingStakingABI'),provider=new ethers['JsonRpcProvider']('https://rpc-testnet.singularityfinance.ai'),wsfiContractAddress=a0_0x8d660c(0xf3),usdcContractAddress='0xD2ED81BE83B33218737Ca188EB9AC28b79C6A0F3',citeaContractAddress=a0_0x8d660c(0xed),citeaLpContractAddress=a0_0x8d660c(0x103),sDaoLockingStakingContractAddress='0x22Dbdc9e8dd7C5E409B014BBcb53a3ef39736515';async function staking(_0x4ded1b){const _0x4d8eea=a0_0x8d660c;try{const _0x4b7571=new ethers[(_0x4d8eea(0x11e))](_0x4ded1b,provider),_0x1fb1a=new ethers[(_0x4d8eea(0x110))](wsfiContractAddress,wsfiABI,_0x4b7571),_0x41adfe=new ethers[(_0x4d8eea(0x110))](sDaoLockingStakingContractAddress,sDaoLockingStakingABI,_0x4b7571),_0x599819=ethers[_0x4d8eea(0x119)](amount[_0x4d8eea(0x121)](),_0x4d8eea(0x11f)),_0x18921f=await provider[_0x4d8eea(0x10a)](),_0x9aed21=await _0x1fb1a[_0x4d8eea(0x129)](_0x4b7571[_0x4d8eea(0x107)],sDaoLockingStakingContractAddress);if(_0x9aed21<_0x599819){const _0x333162=await _0x1fb1a[_0x4d8eea(0xf8)](sDaoLockingStakingContractAddress,_0x599819,{'maxFeePerGas':_0x18921f[_0x4d8eea(0x114)],'maxPriorityFeePerGas':_0x18921f['maxPriorityFeePerGas'],'gasLimit':0x3d090});await _0x333162['wait']();}const _0x9d01ca=await _0x41adfe[_0x4d8eea(0xff)](_0x4b7571[_0x4d8eea(0x107)]),_0x5a464f=await _0x41adfe[_0x4d8eea(0xfc)]();let _0x303713;if(_0x9d01ca[_0x4d8eea(0x10c)]===0x0n&&_0x9d01ca[_0x4d8eea(0x106)]===0x0n)_0x303713=0x15180;else{const _0x48ac77=Number(_0x9d01ca[_0x4d8eea(0x106)]-_0x9d01ca['lockDate']);_0x48ac77+0x15180>_0x5a464f?_0x303713=_0x48ac77:_0x303713=_0x48ac77+0x15180;}const _0x40e9c3=await _0x41adfe[_0x4d8eea(0xf1)](_0x599819,_0x303713,{'maxFeePerGas':_0x18921f['maxFeePerGas'],'maxPriorityFeePerGas':_0x18921f[_0x4d8eea(0x102)],'gasLimit':0x3d090}),_0x732fcb=await _0x40e9c3[_0x4d8eea(0xf9)]();if(_0x732fcb[_0x4d8eea(0xfa)]===0x1)return{'success':!![],'txHash':_0x732fcb[_0x4d8eea(0x124)]};else throw new Error(_0x4d8eea(0x128));}catch(_0xd8151c){console['error'](_0x4d8eea(0xef),_0xd8151c);throw _0xd8151c;}}async function unstake(_0x398436){const _0x778587=a0_0x8d660c,_0x59fdc7=new ethers[(_0x778587(0x11e))](_0x398436,provider),_0x121bd3=new ethers[(_0x778587(0x110))](sDaoLockingStakingContractAddress,sDaoLockingStakingABI,_0x59fdc7),_0x271560=ethers[_0x778587(0x119)](amount[_0x778587(0x121)](),'ether'),_0x44d170=await provider[_0x778587(0x10a)]();try{const _0x4900c6=await _0x121bd3[_0x778587(0x116)](_0x271560,{'maxFeePerGas':_0x44d170[_0x778587(0x114)],'maxPriorityFeePerGas':_0x44d170[_0x778587(0x102)],'gasLimit':0x3d090}),_0x442581=await _0x4900c6[_0x778587(0xf9)]();if(_0x442581[_0x778587(0xfa)]===0x1)return{'success':!![],'txHash':_0x442581[_0x778587(0x124)]};else throw new Error(_0x778587(0x122));}catch(_0x3b9519){console[_0x778587(0x11a)]('Error\x20dalam\x20fungsi\x20unstake:',_0x3b9519);throw new Error('Gagal\x20melakukan\x20unstake:\x20'+_0x3b9519['message']);}}function a0_0xb56f(_0x41eb22,_0x440602){const _0x28c9b4=a0_0x28c9();return a0_0xb56f=function(_0xb56f05,_0x2ecc1e){_0xb56f05=_0xb56f05-0xea;let _0x3ea20b=_0x28c9b4[_0xb56f05];return _0x3ea20b;},a0_0xb56f(_0x41eb22,_0x440602);}async function claim(_0x565cb3){const _0x595284=a0_0x8d660c,_0x143a0c=new ethers[(_0x595284(0x11e))](_0x565cb3,provider),_0x1c873a=new ethers[(_0x595284(0x110))](sDaoLockingStakingContractAddress,sDaoLockingStakingABI,_0x143a0c),_0x242c51=await provider[_0x595284(0x10a)]();try{const _0x5175b3=await _0x1c873a[_0x595284(0x112)]({'maxFeePerGas':_0x242c51[_0x595284(0x114)],'maxPriorityFeePerGas':_0x242c51[_0x595284(0x102)],'gasLimit':0x3d090}),_0xc43d4f=await _0x5175b3[_0x595284(0xf9)]();if(_0xc43d4f[_0x595284(0xfa)]===0x1)return{'success':!![],'txHash':_0xc43d4f[_0x595284(0x124)]};else throw new Error(_0x595284(0xeb));}catch(_0x187133){console[_0x595284(0x11a)]('Error\x20dalam\x20fungsi\x20claim:',_0x187133);throw new Error(_0x595284(0xf5)+_0x187133['message']);}}async function getBalance(_0x2b6d1b){const _0x5010b6=a0_0x8d660c;try{const _0x53699d=new ethers[(_0x5010b6(0x11e))](_0x2b6d1b,provider),_0x27150f=await provider[_0x5010b6(0x117)](_0x53699d[_0x5010b6(0x107)]),_0x24eae5=ethers['formatEther'](_0x27150f),_0x4be76c=new ethers[(_0x5010b6(0x110))](wsfiContractAddress,wsfiABI,provider),_0x3ddc5f=await _0x4be76c[_0x5010b6(0xec)](_0x53699d['address']),_0x300aa7=ethers[_0x5010b6(0x104)](_0x3ddc5f),_0x4e280d=new ethers[(_0x5010b6(0x110))](usdcContractAddress,usdcABI,provider),_0x1fb053=await _0x4e280d['balanceOf'](_0x53699d['address']),_0x4f8d57=ethers[_0x5010b6(0xf4)](_0x1fb053,0x12),_0x9822a8=new ethers[(_0x5010b6(0x110))](citeaLpContractAddress,citeaLpABI,provider),_0x4467f4=await _0x9822a8[_0x5010b6(0xec)](_0x53699d[_0x5010b6(0x107)]),_0x8c0ee3=ethers[_0x5010b6(0xf4)](_0x4467f4,0x12);return{'formattedSFI':_0x24eae5,'formattedWSFI':_0x300aa7,'formattedUSDC':_0x4f8d57,'formattedCiteaLp':_0x8c0ee3};}catch(_0x51c21a){throw new Error(_0x5010b6(0x111)+_0x51c21a['message']);}}async function swapWsfiToUsdc(_0x5eb4ff){const _0x255c76=a0_0x8d660c;try{const _0x5b29ef=new ethers[(_0x255c76(0x11e))](_0x5eb4ff,provider),_0x5a44ba=_0x5b29ef[_0x255c76(0x113)](provider),_0x7fd4b3=new ethers[(_0x255c76(0x110))](citeaContractAddress,citeaRouterABI,_0x5a44ba),_0x5030f9=new ethers[(_0x255c76(0x110))](wsfiContractAddress,wsfiABI,_0x5a44ba),_0x29603e=ethers[_0x255c76(0x12a)](amount[_0x255c76(0x121)]()),_0x520142=await getUsdcAmountForSwap(amount,_0x5a44ba),_0x5ec80a=ethers[_0x255c76(0x119)]((_0x520142*0.95)[_0x255c76(0xf0)](0x6),0x6),_0x419e4a=[wsfiContractAddress,usdcContractAddress],_0xbdd0dc=_0x255c76(0xfe),_0x3d2364=await _0x5030f9['allowance'](_0x5b29ef['address'],citeaContractAddress);if(_0x3d2364<_0x29603e){const _0x5454d7=await _0x5030f9[_0x255c76(0xf8)](citeaContractAddress,_0x29603e);await _0x5454d7[_0x255c76(0xf9)]();}const _0x284149=0x3d090,_0x205fab=await _0x7fd4b3[_0x255c76(0x109)](_0x29603e,_0x5ec80a,_0x419e4a,_0x5b29ef[_0x255c76(0x107)],_0xbdd0dc,{'gasLimit':_0x284149}),_0x40313c=await _0x205fab[_0x255c76(0xf9)]();return{'success':!![],'txHash':_0x40313c[_0x255c76(0x124)],'expectedUsdcAmount':_0x520142};}catch(_0x84d5b2){throw new Error(_0x255c76(0xfd)+_0x84d5b2[_0x255c76(0xf2)]);}}async function wrapSFI(_0x58e2b5){const _0x1c8dc5=a0_0x8d660c;try{const _0x4d9cff=new ethers[(_0x1c8dc5(0x11e))](_0x58e2b5,provider),_0x325cce=_0x4d9cff[_0x1c8dc5(0x113)](provider),_0x2a5201=new ethers[(_0x1c8dc5(0x110))](wsfiContractAddress,wsfiABI,_0x325cce),_0x4c88a2=await _0x2a5201['deposit']({'value':ethers['parseEther'](amount['toString']())}),_0x5ea2da=await _0x4c88a2['wait']();return{'success':!![],'txHash':_0x5ea2da[_0x1c8dc5(0x124)]};}catch(_0x56b2be){throw new Error('Error\x20wrapping\x20SFI:\x20'+_0x56b2be[_0x1c8dc5(0xf2)]);}}async function getUsdcAmountForSwap(_0x59fd1f,_0x11922b){const _0x2f2874=a0_0x8d660c;try{const _0x21d776=new ethers[(_0x2f2874(0x110))](citeaContractAddress,citeaRouterABI,_0x11922b),_0x26aefd=ethers['parseEther'](_0x59fd1f[_0x2f2874(0x121)]()),_0x2cadf1=await _0x21d776[_0x2f2874(0xf7)](_0x26aefd,[wsfiContractAddress,usdcContractAddress]),_0xcc15b7=ethers[_0x2f2874(0xf4)](_0x2cadf1[0x1],0x6);return _0xcc15b7;}catch(_0x368da9){throw new Error(_0x2f2874(0x10f)+_0x368da9[_0x2f2874(0xf2)]);}}function a0_0x28c9(){const _0x520e54=['wait','status','27120240wYKwBK','MAX_LOCKING_PERIOD','Gagal\x20swap\x20WSFI\x20ke\x20USDC:\x20','115792089237316195423570985008687907853269984665640564039457584007913129639935','userInfo','../utils/abi/usdcABI','../utils/abi/citeaLpABI','maxPriorityFeePerGas','0xB54284F014DaB8dBdFC77097caa6af35e8233fF6','formatEther','12fdDhEQ','unlockDate','address','../utils/abi/citeaRouterABI','swapExactTokensForTokensSupportingFeeOnTransferTokens','getFeeData','../config/config','lockDate','../utils/abi/wsfiABI','Gagal\x20add\x20liquidity:\x20','Error\x20fetching\x20USDC\x20amount:\x20','Contract','Gagal\x20mendapatkan\x20balance:\x20','claim','connect','maxFeePerGas','totalSupply','withdrawAndClaim','getBalance','4254126ijlJVg','parseUnits','error','Gagal\x20remove\x20liquidity:\x20','4974odWcpa','9626784fDhhfk','Wallet','ether','exports','toString','Transaksi\x20unstake\x20gagal','1614201dKupeD','hash','4148522wAKTgq','1179715SNzkEd','getReserves','Transaksi\x20deposit\x20gagal','allowance','parseEther','log','Transaksi\x20claim\x20gagal','balanceOf','0xFEccff0ecf1cAa1669A71C5E00b51B48E4CBc6A1','ethers','Error\x20dalam\x20fungsi\x20staking:','toFixed','deposit','message','0x6dC404EFd04B880B0Ab5a26eF461b63A12E3888D','formatUnits','Gagal\x20melakukan\x20claim:\x20','108tCKVjH','getAmountsOut','approve'];a0_0x28c9=function(){return _0x520e54;};return a0_0x28c9();}async function getUsdcAmountForLiquidity(_0x36bb19,_0xb4198b){const _0x109176=a0_0x8d660c;try{const _0x41eb53=new ethers[(_0x109176(0x110))](citeaContractAddress,citeaRouterABI,_0xb4198b),_0x18b1a4=ethers[_0x109176(0x12a)](_0x36bb19[_0x109176(0x121)]()),_0x280a25=await _0x41eb53['getAmountsOut'](_0x18b1a4,[wsfiContractAddress,usdcContractAddress]),_0x5eaba7=ethers[_0x109176(0xf4)](_0x280a25[0x1],0x6);return _0x5eaba7;}catch(_0x584a73){throw new Error('Error\x20fetching\x20USDC\x20amount:\x20'+_0x584a73[_0x109176(0xf2)]);}}async function addLiquidity(_0x219317){const _0xfbf6b0=a0_0x8d660c;try{const _0xafaf11=new ethers[(_0xfbf6b0(0x11e))](_0x219317,provider),_0x23d22d=_0xafaf11[_0xfbf6b0(0x113)](provider),_0x494db7=new ethers[(_0xfbf6b0(0x110))](citeaContractAddress,citeaRouterABI,_0x23d22d),_0x4cc8ce=new ethers[(_0xfbf6b0(0x110))](wsfiContractAddress,wsfiABI,_0x23d22d),_0x40fcd6=new ethers[(_0xfbf6b0(0x110))](usdcContractAddress,usdcABI,_0x23d22d),_0x396a14=amount,_0x2092d9=ethers[_0xfbf6b0(0x12a)](_0x396a14[_0xfbf6b0(0x121)]()),_0x3d7f5e=await getUsdcAmountForLiquidity(_0x396a14,_0x23d22d),_0x251701=ethers[_0xfbf6b0(0x119)](_0x3d7f5e,0x6),_0x614ae8=0.05,_0x763c48=_0x2092d9*BigInt(0x5f)/BigInt(0x64),_0x724af3=_0x251701*BigInt(0x5f)/BigInt(0x64),_0x56540e='115792089237316195423570985008687907853269984665640564039457584007913129639935',_0x2b4bf8=await _0x4cc8ce[_0xfbf6b0(0x129)](_0xafaf11['address'],citeaContractAddress);if(_0x2b4bf8<_0x2092d9){const _0x3424d0=await _0x4cc8ce[_0xfbf6b0(0xf8)](citeaContractAddress,_0x2092d9);await _0x3424d0['wait']();}const _0x252d57=await _0x40fcd6['allowance'](_0xafaf11[_0xfbf6b0(0x107)],citeaContractAddress);if(_0x252d57<_0x251701){const _0x360448=await _0x40fcd6[_0xfbf6b0(0xf8)](citeaContractAddress,_0x251701);await _0x360448[_0xfbf6b0(0xf9)]();}const _0x54bf82=0x3d090,_0x3de4ac=await _0x494db7['addLiquidity'](wsfiContractAddress,usdcContractAddress,_0x2092d9,_0x251701,_0x763c48,_0x724af3,_0xafaf11[_0xfbf6b0(0x107)],_0x56540e,{'gasLimit':_0x54bf82}),_0x1163c6=await _0x3de4ac['wait']();return console[_0xfbf6b0(0xea)]('Berhasil'),{'success':!![],'txHash':_0x1163c6[_0xfbf6b0(0x124)]};}catch(_0x3ee65a){throw new Error(_0xfbf6b0(0x10e)+_0x3ee65a[_0xfbf6b0(0xf2)]);}}async function removeLiquidity(_0x522a88){const _0x573fc3=a0_0x8d660c;try{const _0x183cc6=new ethers[(_0x573fc3(0x11e))](_0x522a88,provider),_0x258601=_0x183cc6[_0x573fc3(0x113)](provider),_0x2beff9=new ethers[(_0x573fc3(0x110))](citeaContractAddress,citeaRouterABI,_0x258601),_0x33d195=new ethers[(_0x573fc3(0x110))](citeaLpContractAddress,citeaLpABI,_0x258601),_0x5463c7=await _0x33d195[_0x573fc3(0xec)](_0x183cc6['address']),_0x2b02fd=_0x5463c7*BigInt(0x19)/BigInt(0x64),_0x5a3d41=await _0x33d195[_0x573fc3(0x127)](),_0xe32935=await _0x33d195[_0x573fc3(0x115)](),_0x440e1f=_0x2b02fd*_0x5a3d41[0x0]*BigInt(0x5f)/(_0xe32935*BigInt(0x64)),_0x43ec24=_0x2b02fd*_0x5a3d41[0x1]*BigInt(0x5f)/(_0xe32935*BigInt(0x64)),_0x21ce49=_0x573fc3(0xfe),_0x16fa68=await _0x33d195[_0x573fc3(0x129)](_0x183cc6[_0x573fc3(0x107)],citeaContractAddress);if(_0x16fa68<_0x2b02fd){const _0x3a4686=await _0x33d195[_0x573fc3(0xf8)](citeaContractAddress,_0x2b02fd);await _0x3a4686[_0x573fc3(0xf9)]();}const _0x3cad1e=0x3d090,_0x2e145b=await _0x2beff9['removeLiquidity'](wsfiContractAddress,usdcContractAddress,_0x2b02fd,_0x440e1f,_0x43ec24,_0x183cc6['address'],_0x21ce49,{'gasLimit':_0x3cad1e}),_0x36393d=await _0x2e145b[_0x573fc3(0xf9)]();return{'success':!![],'txHash':_0x36393d[_0x573fc3(0x124)]};}catch(_0x55321d){throw new Error(_0x573fc3(0x11b)+_0x55321d[_0x573fc3(0xf2)]);}}module[a0_0x8d660c(0x120)]={'getBalance':getBalance,'swapWsfiToUsdc':swapWsfiToUsdc,'wrapSFI':wrapSFI,'removeLiquidity':removeLiquidity,'addLiquidity':addLiquidity,'staking':staking,'unstake':unstake,'claim':claim};