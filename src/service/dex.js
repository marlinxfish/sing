const a0_0x2e7cee=a0_0x3828;(function(_0x49e5b5,_0x1ce989){const _0x334525=a0_0x3828,_0x168c12=_0x49e5b5();while(!![]){try{const _0x2218ec=-parseInt(_0x334525(0xfa))/0x1*(-parseInt(_0x334525(0xd9))/0x2)+parseInt(_0x334525(0xe8))/0x3+parseInt(_0x334525(0x11d))/0x4*(parseInt(_0x334525(0x11f))/0x5)+parseInt(_0x334525(0xdd))/0x6*(parseInt(_0x334525(0xfb))/0x7)+parseInt(_0x334525(0x101))/0x8+-parseInt(_0x334525(0xe6))/0x9+parseInt(_0x334525(0x102))/0xa*(-parseInt(_0x334525(0x118))/0xb);if(_0x2218ec===_0x1ce989)break;else _0x168c12['push'](_0x168c12['shift']());}catch(_0x5c43e8){_0x168c12['push'](_0x168c12['shift']());}}}(a0_0xc9c9,0x5bed5));const {ethers}=require(a0_0x2e7cee(0x120)),{amount}=require(a0_0x2e7cee(0x117)),citeaRouterABI=require('../utils/abi/citeaRouterABI'),citeaLpABI=require(a0_0x2e7cee(0xfd)),wsfiABI=require(a0_0x2e7cee(0xe2)),usdcABI=require(a0_0x2e7cee(0x10e)),sDaoLockingStakingABI=require(a0_0x2e7cee(0xe7)),provider=new ethers[(a0_0x2e7cee(0xf4))](a0_0x2e7cee(0xed)),wsfiContractAddress='0x6dC404EFd04B880B0Ab5a26eF461b63A12E3888D',usdcContractAddress=a0_0x2e7cee(0xf3),citeaContractAddress=a0_0x2e7cee(0xf0),citeaLpContractAddress=a0_0x2e7cee(0xff),sDaoLockingStakingContractAddress=a0_0x2e7cee(0xe3);async function staking(_0x2e8746){const _0x1f5da7=a0_0x2e7cee;try{const _0x2b3475=new ethers['Wallet'](_0x2e8746,provider),_0x21df23=new ethers[(_0x1f5da7(0xdb))](wsfiContractAddress,wsfiABI,_0x2b3475),_0x42b559=new ethers[(_0x1f5da7(0xdb))](sDaoLockingStakingContractAddress,sDaoLockingStakingABI,_0x2b3475),_0x13b3d6=ethers[_0x1f5da7(0x116)](amount[_0x1f5da7(0xef)](),'ether'),_0x51d40d=await provider[_0x1f5da7(0xf6)](),_0x3ef0f5=await _0x21df23['allowance'](_0x2b3475['address'],sDaoLockingStakingContractAddress);if(_0x3ef0f5<_0x13b3d6){const _0x489291=await _0x21df23[_0x1f5da7(0x108)](sDaoLockingStakingContractAddress,_0x13b3d6,{'maxFeePerGas':_0x51d40d[_0x1f5da7(0xea)],'maxPriorityFeePerGas':_0x51d40d[_0x1f5da7(0x104)],'gasLimit':0x3d090});await _0x489291['wait']();}const _0x4fb2d0=await _0x42b559[_0x1f5da7(0xe1)](_0x2b3475[_0x1f5da7(0xf8)]),_0x16a03d=await _0x42b559[_0x1f5da7(0x10c)]();let _0x523f87;if(_0x4fb2d0[_0x1f5da7(0x119)]===0x0n&&_0x4fb2d0[_0x1f5da7(0xf9)]===0x0n)_0x523f87=0x15180;else{const _0x2db72c=Number(_0x4fb2d0[_0x1f5da7(0xf9)]-_0x4fb2d0[_0x1f5da7(0x119)]);_0x2db72c+0x15180>_0x16a03d?_0x523f87=_0x2db72c:_0x523f87=_0x2db72c+0x15180;}const _0x8697d6=await _0x42b559['deposit'](_0x13b3d6,_0x523f87,{'maxFeePerGas':_0x51d40d[_0x1f5da7(0xea)],'maxPriorityFeePerGas':_0x51d40d[_0x1f5da7(0x104)],'gasLimit':0x3d090}),_0x1a0201=await _0x8697d6['wait']();if(_0x1a0201[_0x1f5da7(0xdc)]===0x1)return{'success':!![],'txHash':_0x1a0201[_0x1f5da7(0xe9)]};else throw new Error(_0x1f5da7(0xde));}catch(_0x5d1472){console[_0x1f5da7(0x112)](_0x1f5da7(0x110),_0x5d1472);throw _0x5d1472;}}async function unstake(_0x4d82c0){const _0x2df465=a0_0x2e7cee,_0x339832=new ethers[(_0x2df465(0xf1))](_0x4d82c0,provider),_0x40702b=new ethers[(_0x2df465(0xdb))](sDaoLockingStakingContractAddress,sDaoLockingStakingABI,_0x339832),_0x124984=ethers[_0x2df465(0x116)](amount['toString'](),_0x2df465(0xf2)),_0x139256=await provider[_0x2df465(0xf6)]();try{const _0x559ca2=await _0x40702b['withdrawAndClaim'](_0x124984,{'maxFeePerGas':_0x139256[_0x2df465(0xea)],'maxPriorityFeePerGas':_0x139256[_0x2df465(0x104)],'gasLimit':0x3d090}),_0x5a9a26=await _0x559ca2['wait']();if(_0x5a9a26['status']===0x1)return{'success':!![],'txHash':_0x5a9a26[_0x2df465(0xe9)]};else throw new Error(_0x2df465(0x10d));}catch(_0xaf62b3){console[_0x2df465(0x112)](_0x2df465(0x11e),_0xaf62b3);throw new Error(_0x2df465(0x115)+_0xaf62b3[_0x2df465(0x100)]);}}function a0_0x3828(_0x200b79,_0x5a198f){const _0xc9c954=a0_0xc9c9();return a0_0x3828=function(_0x38288b,_0x388b9a){_0x38288b=_0x38288b-0xd9;let _0x5ba83d=_0xc9c954[_0x38288b];return _0x5ba83d;},a0_0x3828(_0x200b79,_0x5a198f);}async function claim(_0x50e6eb){const _0x44f632=a0_0x2e7cee,_0x26ee90=new ethers[(_0x44f632(0xf1))](_0x50e6eb,provider),_0x3d0879=new ethers[(_0x44f632(0xdb))](sDaoLockingStakingContractAddress,sDaoLockingStakingABI,_0x26ee90),_0x2d6a68=await provider[_0x44f632(0xf6)]();try{const _0x11c3e4=await _0x3d0879[_0x44f632(0xfe)]({'maxFeePerGas':_0x2d6a68[_0x44f632(0xea)],'maxPriorityFeePerGas':_0x2d6a68[_0x44f632(0x104)],'gasLimit':0x3d090}),_0x5f2b61=await _0x11c3e4[_0x44f632(0x10b)]();if(_0x5f2b61[_0x44f632(0xdc)]===0x1)return{'success':!![],'txHash':_0x5f2b61[_0x44f632(0xe9)]};else throw new Error(_0x44f632(0xfc));}catch(_0x4bc20d){console['error'](_0x44f632(0x107),_0x4bc20d);throw new Error('Gagal\x20melakukan\x20claim:\x20'+_0x4bc20d[_0x44f632(0x100)]);}}function a0_0xc9c9(){const _0x5d8f1c=['unlockDate','2JnJLNG','14rmBunQ','Transaksi\x20claim\x20gagal','../utils/abi/citeaLpABI','claim','0xB54284F014DaB8dBdFC77097caa6af35e8233fF6','message','5472632TMaQRT','78630WPNDmg','Error\x20fetching\x20USDC\x20amount:\x20','maxPriorityFeePerGas','Error\x20wrapping\x20SFI:\x20','deposit','Error\x20dalam\x20fungsi\x20claim:','approve','parseEther','toFixed','wait','MAX_LOCKING_PERIOD','Transaksi\x20unstake\x20gagal','../utils/abi/usdcABI','totalSupply','Error\x20dalam\x20fungsi\x20staking:','Gagal\x20swap\x20WSFI\x20ke\x20USDC:\x20','error','formatEther','115792089237316195423570985008687907853269984665640564039457584007913129639935','Gagal\x20melakukan\x20unstake:\x20','parseUnits','../config/config','242ZzUJUp','lockDate','Gagal\x20add\x20liquidity:\x20','allowance','getReserves','237196ferXIc','Error\x20dalam\x20fungsi\x20unstake:','5XAlZaX','ethers','39670myaOAS','swapExactTokensForTokensSupportingFeeOnTransferTokens','Contract','status','382092RGwrEX','Transaksi\x20deposit\x20gagal','getBalance','exports','userInfo','../utils/abi/wsfiABI','0x22Dbdc9e8dd7C5E409B014BBcb53a3ef39736515','balanceOf','connect','3342987epyaTq','../utils/abi/sDaoLockingStakingABI','31650VojjZO','hash','maxFeePerGas','0.01','formatUnits','https://rpc-testnet.singularityfinance.ai','addLiquidity','toString','0xFEccff0ecf1cAa1669A71C5E00b51B48E4CBc6A1','Wallet','ether','0xD2ED81BE83B33218737Ca188EB9AC28b79C6A0F3','JsonRpcProvider','removeLiquidity','getFeeData','Gagal\x20mendapatkan\x20balance:\x20','address'];a0_0xc9c9=function(){return _0x5d8f1c;};return a0_0xc9c9();}async function getBalance(_0x53642c){const _0x408631=a0_0x2e7cee;try{const _0x104de2=new ethers[(_0x408631(0xf1))](_0x53642c,provider),_0x2a201f=await provider[_0x408631(0xdf)](_0x104de2['address']),_0x5260df=ethers[_0x408631(0x113)](_0x2a201f),_0x1d5063=new ethers[(_0x408631(0xdb))](wsfiContractAddress,wsfiABI,provider),_0x14c628=await _0x1d5063['balanceOf'](_0x104de2['address']),_0x2fd7f1=ethers[_0x408631(0x113)](_0x14c628),_0x2936c1=new ethers['Contract'](usdcContractAddress,usdcABI,provider),_0x47a2e2=await _0x2936c1[_0x408631(0xe4)](_0x104de2[_0x408631(0xf8)]),_0x479de2=ethers[_0x408631(0xec)](_0x47a2e2,0x12),_0x494411=new ethers[(_0x408631(0xdb))](citeaLpContractAddress,citeaLpABI,provider),_0x2759a4=await _0x494411[_0x408631(0xe4)](_0x104de2['address']),_0x4a9acd=ethers[_0x408631(0xec)](_0x2759a4,0x12);return{'formattedSFI':_0x5260df,'formattedWSFI':_0x2fd7f1,'formattedUSDC':_0x479de2,'formattedCiteaLp':_0x4a9acd};}catch(_0x34111a){throw new Error(_0x408631(0xf7)+_0x34111a[_0x408631(0x100)]);}}async function swapWsfiToUsdc(_0x5de7d1){const _0x234d80=a0_0x2e7cee;try{const _0x11efc4=new ethers[(_0x234d80(0xf1))](_0x5de7d1,provider),_0x38db38=_0x11efc4['connect'](provider),_0xfe9457=new ethers['Contract'](citeaContractAddress,citeaRouterABI,_0x38db38),_0x1aba41=new ethers['Contract'](wsfiContractAddress,wsfiABI,_0x38db38),_0x733cbd=ethers[_0x234d80(0x109)](amount[_0x234d80(0xef)]()),_0x4005f4=await getUsdcAmountForSwap(amount,_0x38db38),_0x14ae98=ethers[_0x234d80(0x116)]((_0x4005f4*0.95)[_0x234d80(0x10a)](0x6),0x6),_0x558f7f=[wsfiContractAddress,usdcContractAddress],_0x146f21='115792089237316195423570985008687907853269984665640564039457584007913129639935',_0x1e772c=await _0x1aba41[_0x234d80(0x11b)](_0x11efc4['address'],citeaContractAddress);if(_0x1e772c<_0x733cbd){const _0x924f3f=await _0x1aba41[_0x234d80(0x108)](citeaContractAddress,_0x733cbd);await _0x924f3f['wait']();}const _0x8e4506=0x3d090,_0xfa4de1=await _0xfe9457[_0x234d80(0xda)](_0x733cbd,_0x14ae98,_0x558f7f,_0x11efc4[_0x234d80(0xf8)],_0x146f21,{'gasLimit':_0x8e4506}),_0x5aa7fb=await _0xfa4de1[_0x234d80(0x10b)]();return{'success':!![],'txHash':_0x5aa7fb['hash'],'expectedUsdcAmount':_0x4005f4};}catch(_0x25bffa){throw new Error(_0x234d80(0x111)+_0x25bffa[_0x234d80(0x100)]);}}async function wrapSFI(_0x2324b5){const _0x1c9187=a0_0x2e7cee;try{const _0x59d892=new ethers[(_0x1c9187(0xf1))](_0x2324b5,provider),_0x5aea06=_0x59d892['connect'](provider),_0x46c8de=new ethers[(_0x1c9187(0xdb))](wsfiContractAddress,wsfiABI,_0x5aea06),_0x8c6999=await _0x46c8de[_0x1c9187(0x106)]({'value':ethers[_0x1c9187(0x109)](_0x1c9187(0xeb))}),_0x62e922=await _0x8c6999[_0x1c9187(0x10b)]();return{'success':!![],'txHash':_0x62e922[_0x1c9187(0xe9)]};}catch(_0x1411e2){throw new Error(_0x1c9187(0x105)+_0x1411e2[_0x1c9187(0x100)]);}}async function getUsdcAmountForSwap(_0x49a959,_0x2f26bf){const _0x3429fa=a0_0x2e7cee;try{const _0x4b79d7=new ethers[(_0x3429fa(0xdb))](citeaContractAddress,citeaRouterABI,_0x2f26bf),_0x45cf0f=ethers[_0x3429fa(0x109)](_0x49a959[_0x3429fa(0xef)]()),_0x399010=await _0x4b79d7['getAmountsOut'](_0x45cf0f,[wsfiContractAddress,usdcContractAddress]),_0x535113=ethers['formatUnits'](_0x399010[0x1],0x6);return _0x535113;}catch(_0x16dffb){throw new Error(_0x3429fa(0x103)+_0x16dffb[_0x3429fa(0x100)]);}}async function getUsdcAmountForLiquidity(_0x337fd2,_0x363fcc){const _0x549d51=a0_0x2e7cee;try{const _0x3c6da6=new ethers[(_0x549d51(0xdb))](citeaContractAddress,citeaRouterABI,_0x363fcc),_0x16c710=ethers[_0x549d51(0x109)](_0x337fd2['toString']()),_0x937eb2=await _0x3c6da6['getAmountsOut'](_0x16c710,[wsfiContractAddress,usdcContractAddress]),_0x1e2156=ethers[_0x549d51(0xec)](_0x937eb2[0x1],0x6);return _0x1e2156;}catch(_0x5d37c3){throw new Error(_0x549d51(0x103)+_0x5d37c3[_0x549d51(0x100)]);}}async function addLiquidity(_0x422846){const _0x1d0791=a0_0x2e7cee;try{const _0x296a85=new ethers[(_0x1d0791(0xf1))](_0x422846,provider),_0x242d6a=_0x296a85['connect'](provider),_0x2c7947=new ethers[(_0x1d0791(0xdb))](citeaContractAddress,citeaRouterABI,_0x242d6a),_0x3d3db6=new ethers[(_0x1d0791(0xdb))](wsfiContractAddress,wsfiABI,_0x242d6a),_0x156392=new ethers[(_0x1d0791(0xdb))](usdcContractAddress,usdcABI,_0x242d6a),_0x5c04cb=amount,_0x767841=ethers[_0x1d0791(0x109)](_0x5c04cb[_0x1d0791(0xef)]()),_0x37e8ca=await getUsdcAmountForLiquidity(_0x5c04cb,_0x242d6a),_0x514afe=ethers[_0x1d0791(0x116)](_0x37e8ca,0x6),_0x3b0f55=0.05,_0x2fbb5f=_0x767841*BigInt(0x5f)/BigInt(0x64),_0x111456=_0x514afe*BigInt(0x5f)/BigInt(0x64),_0x5419ee=_0x1d0791(0x114),_0x426bf0=await _0x3d3db6[_0x1d0791(0x11b)](_0x296a85[_0x1d0791(0xf8)],citeaContractAddress);if(_0x426bf0<_0x767841){const _0x2b9e14=await _0x3d3db6[_0x1d0791(0x108)](citeaContractAddress,_0x767841);await _0x2b9e14[_0x1d0791(0x10b)]();}const _0x205602=await _0x156392['allowance'](_0x296a85[_0x1d0791(0xf8)],citeaContractAddress);if(_0x205602<_0x514afe){const _0x167c19=await _0x156392[_0x1d0791(0x108)](citeaContractAddress,_0x514afe);await _0x167c19[_0x1d0791(0x10b)]();}const _0x55f4f0=0x3d090,_0x1b664c=await _0x2c7947[_0x1d0791(0xee)](wsfiContractAddress,usdcContractAddress,_0x767841,_0x514afe,_0x2fbb5f,_0x111456,_0x296a85['address'],_0x5419ee,{'gasLimit':_0x55f4f0}),_0x43151f=await _0x1b664c['wait']();return{'success':!![],'txHash':_0x43151f[_0x1d0791(0xe9)]};}catch(_0x27bade){throw new Error(_0x1d0791(0x11a)+_0x27bade[_0x1d0791(0x100)]);}}async function removeLiquidity(_0x18fa97){const _0x8a05b5=a0_0x2e7cee;try{const _0x24556d=new ethers['Wallet'](_0x18fa97,provider),_0x2ab160=_0x24556d[_0x8a05b5(0xe5)](provider),_0x17e634=new ethers['Contract'](citeaContractAddress,citeaRouterABI,_0x2ab160),_0x5a9099=new ethers[(_0x8a05b5(0xdb))](citeaLpContractAddress,citeaLpABI,_0x2ab160),_0x50dcf2=await _0x5a9099[_0x8a05b5(0xe4)](_0x24556d[_0x8a05b5(0xf8)]),_0x1a3ffa=_0x50dcf2*BigInt(0x19)/BigInt(0x64),_0x23d42e=await _0x5a9099[_0x8a05b5(0x11c)](),_0x2bf64d=await _0x5a9099[_0x8a05b5(0x10f)](),_0x202d52=_0x1a3ffa*_0x23d42e[0x0]*BigInt(0x5f)/(_0x2bf64d*BigInt(0x64)),_0x4c19da=_0x1a3ffa*_0x23d42e[0x1]*BigInt(0x5f)/(_0x2bf64d*BigInt(0x64)),_0x46f311=_0x8a05b5(0x114),_0x2a9386=await _0x5a9099[_0x8a05b5(0x11b)](_0x24556d[_0x8a05b5(0xf8)],citeaContractAddress);if(_0x2a9386<_0x1a3ffa){const _0x2169a5=await _0x5a9099[_0x8a05b5(0x108)](citeaContractAddress,_0x1a3ffa);await _0x2169a5['wait']();}const _0x249a22=0x3d090,_0x582ec7=await _0x17e634[_0x8a05b5(0xf5)](wsfiContractAddress,usdcContractAddress,_0x1a3ffa,_0x202d52,_0x4c19da,_0x24556d[_0x8a05b5(0xf8)],_0x46f311,{'gasLimit':_0x249a22}),_0x929385=await _0x582ec7[_0x8a05b5(0x10b)]();return{'success':!![],'txHash':_0x929385[_0x8a05b5(0xe9)]};}catch(_0x462a62){throw new Error('Gagal\x20remove\x20liquidity:\x20'+_0x462a62[_0x8a05b5(0x100)]);}}module[a0_0x2e7cee(0xe0)]={'getBalance':getBalance,'swapWsfiToUsdc':swapWsfiToUsdc,'wrapSFI':wrapSFI,'removeLiquidity':removeLiquidity,'addLiquidity':addLiquidity,'staking':staking,'unstake':unstake,'claim':claim};