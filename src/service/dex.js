const a0_0x494b52=a0_0x20de;function a0_0x3ea9(){const _0x54c0b9=['parseEther','0xB54284F014DaB8dBdFC77097caa6af35e8233fF6','maxFeePerGas','46888suPJnD','Error\x20dalam\x20fungsi\x20staking:','status','64428IfhXTK','Gagal\x20add\x20liquidity:\x20','parseUnits','maxPriorityFeePerGas','formatUnits','7068BCEoYb','getBalance','toString','Wallet','0xFEccff0ecf1cAa1669A71C5E00b51B48E4CBc6A1','exports','message','address','allowance','hash','2111800jYMQJL','Contract','Error\x20fetching\x20USDC\x20amount:\x20','deposit','1471728FEoAyA','ethers','totalSupply','ether','../utils/abi/sDaoLockingStakingABI','115792089237316195423570985008687907853269984665640564039457584007913129639935','Gagal\x20remove\x20liquidity:\x20','536uiGPcC','22045977KQmCCX','lockDate','approve','0x22Dbdc9e8dd7C5E409B014BBcb53a3ef39736515','formatEther','userInfo','connect','2138214TOplUW','getAmountsOut','error','Transaksi\x20claim\x20gagal','wait','withdrawAndClaim','Gagal\x20melakukan\x20claim:\x20','getFeeData','swapExactTokensForTokensSupportingFeeOnTransferTokens','Gagal\x20melakukan\x20unstake:\x20','Transaksi\x20unstake\x20gagal','getReserves','../utils/abi/citeaRouterABI','0xD2ED81BE83B33218737Ca188EB9AC28b79C6A0F3','addLiquidity','https://rpc-testnet.singularityfinance.ai','removeLiquidity','Transaksi\x20deposit\x20gagal','JsonRpcProvider','../utils/abi/wsfiABI','707hWiCyJ','../config/config','balanceOf','../utils/abi/citeaLpABI','Error\x20dalam\x20fungsi\x20unstake:'];a0_0x3ea9=function(){return _0x54c0b9;};return a0_0x3ea9();}(function(_0x2a4ba2,_0x3e229f){const _0x411bf0=a0_0x20de,_0x16459c=_0x2a4ba2();while(!![]){try{const _0x17191c=-parseInt(_0x411bf0(0x1a3))/0x1+-parseInt(_0x411bf0(0x1c5))/0x2+-parseInt(_0x411bf0(0x1a8))/0x3*(parseInt(_0x411bf0(0x1bd))/0x4)+parseInt(_0x411bf0(0x1b2))/0x5+-parseInt(_0x411bf0(0x1b6))/0x6+-parseInt(_0x411bf0(0x198))/0x7*(parseInt(_0x411bf0(0x1a0))/0x8)+parseInt(_0x411bf0(0x1be))/0x9;if(_0x17191c===_0x3e229f)break;else _0x16459c['push'](_0x16459c['shift']());}catch(_0x57dbf0){_0x16459c['push'](_0x16459c['shift']());}}}(a0_0x3ea9,0x8eed1));const {ethers}=require(a0_0x494b52(0x1b7)),{amount}=require(a0_0x494b52(0x199)),citeaRouterABI=require(a0_0x494b52(0x1d1)),citeaLpABI=require(a0_0x494b52(0x19b)),wsfiABI=require(a0_0x494b52(0x197)),usdcABI=require('../utils/abi/usdcABI'),sDaoLockingStakingABI=require(a0_0x494b52(0x1ba)),provider=new ethers[(a0_0x494b52(0x196))](a0_0x494b52(0x1d4)),wsfiContractAddress='0x6dC404EFd04B880B0Ab5a26eF461b63A12E3888D',usdcContractAddress=a0_0x494b52(0x1d2),citeaContractAddress=a0_0x494b52(0x1ac),citeaLpContractAddress=a0_0x494b52(0x19e),sDaoLockingStakingContractAddress=a0_0x494b52(0x1c1);function a0_0x20de(_0x3edb95,_0x438211){const _0x3ea9fe=a0_0x3ea9();return a0_0x20de=function(_0x20deed,_0x9f574d){_0x20deed=_0x20deed-0x196;let _0x1f8e20=_0x3ea9fe[_0x20deed];return _0x1f8e20;},a0_0x20de(_0x3edb95,_0x438211);}async function staking(_0x2270d7){const _0x3971e0=a0_0x494b52;try{const _0x3fed5d=new ethers[(_0x3971e0(0x1ab))](_0x2270d7,provider),_0x4fd546=new ethers[(_0x3971e0(0x1b3))](wsfiContractAddress,wsfiABI,_0x3fed5d),_0x30abde=new ethers[(_0x3971e0(0x1b3))](sDaoLockingStakingContractAddress,sDaoLockingStakingABI,_0x3fed5d),_0x4723d9=ethers[_0x3971e0(0x1a5)](amount[_0x3971e0(0x1aa)](),_0x3971e0(0x1b9)),_0x3f1fe2=await provider[_0x3971e0(0x1cc)](),_0xfe426e=await _0x4fd546[_0x3971e0(0x1b0)](_0x3fed5d[_0x3971e0(0x1af)],sDaoLockingStakingContractAddress);if(_0xfe426e<_0x4723d9){const _0x471687=await _0x4fd546[_0x3971e0(0x1c0)](sDaoLockingStakingContractAddress,_0x4723d9,{'maxFeePerGas':_0x3f1fe2[_0x3971e0(0x19f)],'maxPriorityFeePerGas':_0x3f1fe2['maxPriorityFeePerGas'],'gasLimit':0x2c308});await _0x471687[_0x3971e0(0x1c9)]();}const _0x418a7a=await _0x30abde[_0x3971e0(0x1c3)](_0x3fed5d['address']);let _0x3a5787=_0x418a7a[_0x3971e0(0x1bf)]===0x0n&&_0x418a7a['unlockDate']===0x0n?0x15180:Number(_0x418a7a['unlockDate']-_0x418a7a['lockDate'])+0x15180;const _0x16155e=await _0x30abde[_0x3971e0(0x1b5)](_0x4723d9,_0x3a5787,{'maxFeePerGas':_0x3f1fe2[_0x3971e0(0x19f)],'maxPriorityFeePerGas':_0x3f1fe2[_0x3971e0(0x1a6)],'gasLimit':0x2c308}),_0x3631f2=await _0x16155e[_0x3971e0(0x1c9)]();if(_0x3631f2['status']===0x1)return{'success':!![],'txHash':_0x3631f2[_0x3971e0(0x1b1)]};else throw new Error(_0x3971e0(0x1d6));}catch(_0x4bd3d4){console[_0x3971e0(0x1c7)](_0x3971e0(0x1a1),_0x4bd3d4);throw _0x4bd3d4;}}async function unstake(_0x30baad){const _0x311949=a0_0x494b52,_0x21d783=new ethers[(_0x311949(0x1ab))](_0x30baad,provider),_0x33df76=new ethers[(_0x311949(0x1b3))](sDaoLockingStakingContractAddress,sDaoLockingStakingABI,_0x21d783),_0x1c0135=ethers[_0x311949(0x1a5)](amount['toString'](),_0x311949(0x1b9)),_0x12eb73=await provider[_0x311949(0x1cc)]();try{const _0xd1c91c=await _0x33df76[_0x311949(0x1ca)](_0x1c0135,{'maxFeePerGas':_0x12eb73[_0x311949(0x19f)],'maxPriorityFeePerGas':_0x12eb73[_0x311949(0x1a6)],'gasLimit':0x2c308}),_0x1f0420=await _0xd1c91c[_0x311949(0x1c9)]();if(_0x1f0420['status']===0x1)return{'success':!![],'txHash':_0x1f0420[_0x311949(0x1b1)]};else throw new Error(_0x311949(0x1cf));}catch(_0x4e3aa3){console[_0x311949(0x1c7)](_0x311949(0x19c),_0x4e3aa3);throw new Error(_0x311949(0x1ce)+_0x4e3aa3[_0x311949(0x1ae)]);}}async function claim(_0x53de23){const _0x10af80=a0_0x494b52,_0x371952=new ethers[(_0x10af80(0x1ab))](_0x53de23,provider),_0x10e621=new ethers[(_0x10af80(0x1b3))](sDaoLockingStakingContractAddress,sDaoLockingStakingABI,_0x371952),_0x2191fa=await provider[_0x10af80(0x1cc)]();try{const _0x8028a4=await _0x10e621['claim']({'maxFeePerGas':_0x2191fa[_0x10af80(0x19f)],'maxPriorityFeePerGas':_0x2191fa[_0x10af80(0x1a6)],'gasLimit':0x2c308}),_0x4684b7=await _0x8028a4[_0x10af80(0x1c9)]();if(_0x4684b7[_0x10af80(0x1a2)]===0x1)return{'success':!![],'txHash':_0x4684b7[_0x10af80(0x1b1)]};else throw new Error(_0x10af80(0x1c8));}catch(_0x4b118f){console[_0x10af80(0x1c7)]('Error\x20dalam\x20fungsi\x20claim:',_0x4b118f);throw new Error(_0x10af80(0x1cb)+_0x4b118f[_0x10af80(0x1ae)]);}}async function getBalance(_0xcbf95e){const _0x43b5cb=a0_0x494b52;try{const _0x589e1b=new ethers['Wallet'](_0xcbf95e,provider),_0x1ffaec=await provider[_0x43b5cb(0x1a9)](_0x589e1b[_0x43b5cb(0x1af)]),_0x4b5329=ethers[_0x43b5cb(0x1c2)](_0x1ffaec),_0x9f3716=new ethers[(_0x43b5cb(0x1b3))](wsfiContractAddress,wsfiABI,provider),_0x177b06=await _0x9f3716[_0x43b5cb(0x19a)](_0x589e1b[_0x43b5cb(0x1af)]),_0x234320=ethers[_0x43b5cb(0x1c2)](_0x177b06),_0x39eef5=new ethers[(_0x43b5cb(0x1b3))](usdcContractAddress,usdcABI,provider),_0x57fbb5=await _0x39eef5[_0x43b5cb(0x19a)](_0x589e1b[_0x43b5cb(0x1af)]),_0x2675b8=ethers[_0x43b5cb(0x1a7)](_0x57fbb5,0x12),_0x1d8f13=new ethers[(_0x43b5cb(0x1b3))](citeaLpContractAddress,citeaLpABI,provider),_0x1a274a=await _0x1d8f13[_0x43b5cb(0x19a)](_0x589e1b['address']),_0x5a1a34=ethers['formatUnits'](_0x1a274a,0x12);return{'formattedSFI':_0x4b5329,'formattedWSFI':_0x234320,'formattedUSDC':_0x2675b8,'formattedCiteaLp':_0x5a1a34};}catch(_0x29b0f9){throw new Error('Gagal\x20mendapatkan\x20balance:\x20'+_0x29b0f9['message']);}}async function swapWsfiToUsdc(_0x54bc36){const _0x1d1acf=a0_0x494b52;try{const _0x57d8e5=new ethers[(_0x1d1acf(0x1ab))](_0x54bc36,provider),_0x1638d5=_0x57d8e5[_0x1d1acf(0x1c4)](provider),_0x1f10ef=new ethers[(_0x1d1acf(0x1b3))](citeaContractAddress,citeaRouterABI,_0x1638d5),_0xf0fc22=new ethers[(_0x1d1acf(0x1b3))](wsfiContractAddress,wsfiABI,_0x1638d5),_0x1bbe47=ethers[_0x1d1acf(0x19d)](amount[_0x1d1acf(0x1aa)]()),_0x1c4959=await getUsdcAmountForSwap(amount,_0x1638d5),_0x18c5f3=ethers['parseUnits']((_0x1c4959*0.95)['toFixed'](0x6),0x6),_0x5e36d3=[wsfiContractAddress,usdcContractAddress],_0x70b8fa=_0x1d1acf(0x1bb),_0x33c137=await _0xf0fc22[_0x1d1acf(0x1b0)](_0x57d8e5[_0x1d1acf(0x1af)],citeaContractAddress);if(_0x33c137<_0x1bbe47){const _0xabd3ed=await _0xf0fc22[_0x1d1acf(0x1c0)](citeaContractAddress,_0x1bbe47);await _0xabd3ed['wait']();}const _0x2e223c=0x3d090,_0x3c816b=await _0x1f10ef[_0x1d1acf(0x1cd)](_0x1bbe47,_0x18c5f3,_0x5e36d3,_0x57d8e5[_0x1d1acf(0x1af)],_0x70b8fa,{'gasLimit':_0x2e223c}),_0x982e0=await _0x3c816b[_0x1d1acf(0x1c9)]();return{'success':!![],'txHash':_0x982e0['hash'],'expectedUsdcAmount':_0x1c4959};}catch(_0x1d210a){throw new Error('Gagal\x20swap\x20WSFI\x20ke\x20USDC:\x20'+_0x1d210a[_0x1d1acf(0x1ae)]);}}async function wrapSFI(_0x1aa5d9){const _0x45c54a=a0_0x494b52;try{const _0x37784b=new ethers['Wallet'](_0x1aa5d9,provider),_0x1d968c=_0x37784b['connect'](provider),_0x5eef6a=new ethers[(_0x45c54a(0x1b3))](wsfiContractAddress,wsfiABI,_0x1d968c),_0x46dacb=await _0x5eef6a['deposit']({'value':ethers[_0x45c54a(0x19d)](amount['toString']())}),_0x2cc506=await _0x46dacb['wait']();return{'success':!![],'txHash':_0x2cc506[_0x45c54a(0x1b1)]};}catch(_0x44b805){throw new Error('Error\x20wrapping\x20SFI:\x20'+_0x44b805[_0x45c54a(0x1ae)]);}}async function getUsdcAmountForSwap(_0x172976,_0x46d1fe){const _0x176569=a0_0x494b52;try{const _0x589905=new ethers[(_0x176569(0x1b3))](citeaContractAddress,citeaRouterABI,_0x46d1fe),_0x6966ed=ethers['parseEther'](_0x172976['toString']()),_0x3a8ee2=await _0x589905[_0x176569(0x1c6)](_0x6966ed,[wsfiContractAddress,usdcContractAddress]),_0x284a25=ethers[_0x176569(0x1a7)](_0x3a8ee2[0x1],0x6);return _0x284a25;}catch(_0x4ff37a){throw new Error(_0x176569(0x1b4)+_0x4ff37a[_0x176569(0x1ae)]);}}async function getUsdcAmountForLiquidity(_0x470c9e,_0x5534e3){const _0x34de52=a0_0x494b52;try{const _0x349474=new ethers[(_0x34de52(0x1b3))](citeaContractAddress,citeaRouterABI,_0x5534e3),_0x10d72a=ethers[_0x34de52(0x19d)](_0x470c9e['toString']()),_0x5adc72=await _0x349474[_0x34de52(0x1c6)](_0x10d72a,[wsfiContractAddress,usdcContractAddress]),_0x5b1206=ethers[_0x34de52(0x1a7)](_0x5adc72[0x1],0x6);return _0x5b1206;}catch(_0x5403a1){throw new Error(_0x34de52(0x1b4)+_0x5403a1[_0x34de52(0x1ae)]);}}async function addLiquidity(_0xb44ed8){const _0x3ce60d=a0_0x494b52;try{const _0x12d58c=new ethers['Wallet'](_0xb44ed8,provider),_0x17891c=_0x12d58c['connect'](provider),_0x47122c=new ethers[(_0x3ce60d(0x1b3))](citeaContractAddress,citeaRouterABI,_0x17891c),_0x23b7a9=new ethers[(_0x3ce60d(0x1b3))](wsfiContractAddress,wsfiABI,_0x17891c),_0x4d5b26=new ethers[(_0x3ce60d(0x1b3))](usdcContractAddress,usdcABI,_0x17891c),_0xc637f3=amount,_0x4cfba9=ethers[_0x3ce60d(0x19d)](_0xc637f3[_0x3ce60d(0x1aa)]()),_0x4ba69d=await getUsdcAmountForLiquidity(_0xc637f3,_0x17891c),_0x3e173d=ethers['parseUnits'](_0x4ba69d,0x6),_0x56e2fb=0.05,_0x2a7804=_0x4cfba9*BigInt(0x5f)/BigInt(0x64),_0x2a8516=_0x3e173d*BigInt(0x5f)/BigInt(0x64),_0x4866a9=_0x3ce60d(0x1bb),_0xffc965=await _0x23b7a9[_0x3ce60d(0x1b0)](_0x12d58c[_0x3ce60d(0x1af)],citeaContractAddress);if(_0xffc965<_0x4cfba9){const _0xf89999=await _0x23b7a9[_0x3ce60d(0x1c0)](citeaContractAddress,_0x4cfba9);await _0xf89999['wait']();}const _0xc2a6d5=await _0x4d5b26[_0x3ce60d(0x1b0)](_0x12d58c[_0x3ce60d(0x1af)],citeaContractAddress);if(_0xc2a6d5<_0x3e173d){const _0x24318e=await _0x4d5b26[_0x3ce60d(0x1c0)](citeaContractAddress,_0x3e173d);await _0x24318e[_0x3ce60d(0x1c9)]();}const _0x34a368=0x55730,_0x5c2b8f=await _0x47122c[_0x3ce60d(0x1d3)](wsfiContractAddress,usdcContractAddress,_0x4cfba9,_0x3e173d,_0x2a7804,_0x2a8516,_0x12d58c[_0x3ce60d(0x1af)],_0x4866a9,{'gasLimit':_0x34a368}),_0x165b17=await _0x5c2b8f[_0x3ce60d(0x1c9)]();return{'success':!![],'txHash':_0x165b17[_0x3ce60d(0x1b1)]};}catch(_0x5a53a4){throw new Error(_0x3ce60d(0x1a4)+_0x5a53a4[_0x3ce60d(0x1ae)]);}}async function removeLiquidity(_0x2f4266){const _0x1ed07f=a0_0x494b52;try{const _0x2e41bb=new ethers[(_0x1ed07f(0x1ab))](_0x2f4266,provider),_0x5bcd96=_0x2e41bb[_0x1ed07f(0x1c4)](provider),_0x508f57=new ethers[(_0x1ed07f(0x1b3))](citeaContractAddress,citeaRouterABI,_0x5bcd96),_0x56a401=new ethers[(_0x1ed07f(0x1b3))](citeaLpContractAddress,citeaLpABI,_0x5bcd96),_0x4ad943=await _0x56a401[_0x1ed07f(0x19a)](_0x2e41bb[_0x1ed07f(0x1af)]),_0x43c659=_0x4ad943*BigInt(0x19)/BigInt(0x64),_0x22fb42=await _0x56a401[_0x1ed07f(0x1d0)](),_0x5449e4=await _0x56a401[_0x1ed07f(0x1b8)](),_0x1d9c44=_0x43c659*_0x22fb42[0x0]*BigInt(0x5f)/(_0x5449e4*BigInt(0x64)),_0x55680e=_0x43c659*_0x22fb42[0x1]*BigInt(0x5f)/(_0x5449e4*BigInt(0x64)),_0x426db2=_0x1ed07f(0x1bb),_0x1c92e7=await _0x56a401[_0x1ed07f(0x1b0)](_0x2e41bb[_0x1ed07f(0x1af)],citeaContractAddress);if(_0x1c92e7<_0x43c659){const _0x3d9efe=await _0x56a401[_0x1ed07f(0x1c0)](citeaContractAddress,_0x43c659);await _0x3d9efe[_0x1ed07f(0x1c9)]();}const _0x4edf7c=0x3d090,_0x59503d=await _0x508f57[_0x1ed07f(0x1d5)](wsfiContractAddress,usdcContractAddress,_0x43c659,_0x1d9c44,_0x55680e,_0x2e41bb[_0x1ed07f(0x1af)],_0x426db2,{'gasLimit':_0x4edf7c}),_0x53abc7=await _0x59503d[_0x1ed07f(0x1c9)]();return{'success':!![],'txHash':_0x53abc7['hash']};}catch(_0x568926){throw new Error(_0x1ed07f(0x1bc)+_0x568926['message']);}}module[a0_0x494b52(0x1ad)]={'getBalance':getBalance,'swapWsfiToUsdc':swapWsfiToUsdc,'wrapSFI':wrapSFI,'removeLiquidity':removeLiquidity,'addLiquidity':addLiquidity,'staking':staking,'unstake':unstake,'claim':claim};